webpackJsonp([1],{"89nZ":function(e,t,r){"use strict";t.a={orderStatus:[{label:"未出货",value:1},{label:"未发货",value:2},{label:"已发货",value:3},{label:"已签收",value:4}],settleStatus:[{label:"已完成",value:0},{label:"未结算",value:1},{label:"已发货",value:2}],settleTypes:[{label:"现结",value:0},{label:"周结",value:1},{label:"月结",value:2},{label:"季结",value:3}],deliveryWay:[{label:"自提",value:1},{label:"现取",value:2},{label:"物流",value:3}],payWays:[{label:"现金",value:0},{label:"微信",value:1},{label:"支付宝",value:2},{label:"赊账",value:3}],orderTypes:[{label:"销售订单",value:1},{label:"补货单",value:2},{label:"退货单",value:3},{label:"零售单",value:4}]}},MAYo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),s=r("89nZ"),o={data:function(){return{orderType:null,dateMaxDays:366,isShowHangupOrder:!1,processWidth:270,showDrawer:!1,loading:!1,drawerDetail:{},placeholder:"",columnLabel:"",orderStatus:s.a.orderStatus,settleStatusList:[{label:"未结算",value:0},{label:"已结算",value:1}],payWays:s.a.payWays,settleTypes:s.a.settleTypes,orderTypes:s.a.orderTypes,secShow:!1,filters:{precisionName:"orderCode",precisionValue:"",customerName:"",customerPhone:"",status:null},users:[],total:0,pageNum:1,pageSize:10,ids:[],details:{},curRow:{},shipVisible:!1,shipForm:{expressCode:"",expressNo:""},settleConfirm:!1,logistics:[],shipFormRules:{expressCode:[{required:!0,validator:this.noEmpty,message:"请选择物流公司",trigger:"blur"}],expressNo:[{required:!0,validator:this.noEmpty,message:"请输入快递单号",trigger:"blur"}]},settleForm:{settleAmount:""},settleFormRules:{settleAmount:[{validator:this.mustNumber,message:"必须为数字",trigger:"blur"}]},settleStatus:-1,settleType:null,filterNum:{unSettleCoun:"",unStockCount:"",unOutCount:"",unDistribeCount:"",unSignCount:""},orderTypeList:[{name:"全部",filterVal:{}},{name:"VIP客户单",filterVal:{orderType:6}},{name:"快捷退货单",filterVal:{orderType:5}},{name:"销售单",filterVal:{orderType:1}},{name:"补货单",filterVal:{orderType:2}},{name:"退货单",filterVal:{orderType:3}}],statusList:[{name:"全部",filterVal:{}},{name:"待确认",filterVal:{status:0}},{name:"待付款",filterVal:{status:3}},{name:"待发货",filterVal:{status:5}},{name:"待出货",filterVal:{status:4}},{name:"待签收",filterVal:{status:6}},{name:"交易完成",filterVal:{status:7}},{name:"交易关闭-档口退单",filterVal:{status:8}},{name:"交易关闭-交易超时",filterVal:{status:9}},{name:"交易关闭-订单作废",filterVal:{status:10}},{name:"订单驳回",filterVal:{status:2}}],vipSettleType:[{name:"全部",filterVal:{settleType:""}},{name:"现结",filterVal:{settleType:1}},{name:"挂账",filterVal:{settleType:2}}],allSettleType:[{name:"全部",filterVal:{settleType:""}},{name:"现结",filterVal:{settleType:1}},{name:"挂账",filterVal:{settleType:2}},{name:"赊账",filterVal:{settleType:3}}],orderStatusFilter:[{name:"全部",filterVal:{}},{name:"交易完成",filterVal:{status:7}},{name:"交易关闭-订单作废",filterVal:{status:10}}],vipSettleStatus:[{name:"全部",filterVal:{}},{name:"已结帐",filterVal:{settleStatus:1}},{name:"未结账",filterVal:{settleStatus:0}}],vipStatus:[{name:"全部",filterVal:{}},{name:"待发货",filterVal:{status:5}},{name:"待出货",filterVal:{status:4}},{name:"交易完成",filterVal:{status:7}},{name:"交易关闭-档口退单",filterVal:{status:8}}]}},mounted:function(){this.init(),this.getUsers(!0),this.queryData=this._debounce(this.queryData),this.remindCustomerFn=this._debounce(this.remindCustomerFn)},components:{OrderDetail:r("1Jne").a},methods:{init:function(){switch(this.placeholder="订单号/客户名/手机号",this.$route.path){case"/order/sales":this.columnLabel="销售单号";break;case"/order/replenish":this.columnLabel="补货单号";break;case"/order/retail":this.columnLabel="零售单号",this.placeholder="零售单号";break;case"/order/refund":this.columnLabel="退单单号";break;case"/order/fastReturn":this.columnLabel="快捷退货单号",this.placeholder="快捷退货单号/客户名";break;case"/order/vipOrder":this.columnLabel="VIP客户订单号",this.placeholder="订单号/客户名",this.processWidth=340;break;default:this.columnLabel="订单号"}},orderTypeChange:function(){this.orderType=this.$refs.orderTypeList&&this.$refs.orderTypeList.getParams().orderType,this.queryData()},getFiltersNum:function(){var e=this;this.$postJson(this._basePath.ajaxOrderFiltersNum,{orderType:this.orderType}).then(function(t){t.success&&(e.filterNum=t.data,e.$set(e.statusList,1,a()({},e.statusList[1],{num:e.filterNum.unConfirmStatusCount})),e.$set(e.statusList,2,a()({},e.statusList[2],{num:e.filterNum.unPayCount})),e.$set(e.statusList,3,a()({},e.statusList[3],{num:e.filterNum.unDistributeCount})),e.$set(e.statusList,4,a()({},e.statusList[4],{num:e.filterNum.unOutCount})),e.$set(e.statusList,5,a()({},e.statusList[5],{num:e.filterNum.unSignCount})),e.$set(e.vipStatus,1,a()({},e.vipStatus[1],{num:e.filterNum.unDistributeCount})),e.$set(e.vipStatus,2,a()({},e.vipStatus[2],{num:e.filterNum.unOutCount})),e.$set(e.vipSettleStatus,2,a()({},e.vipSettleStatus[2],{num:e.filterNum.unSettleCount})))})},isAvailRetreat:function(e){return this._isWithout(e.orderType,[3,4])&&(this._isHave(e.status,[0,3,4,5])||7===e.status&&2===e.distributionType)},switchChange:function(e){var t=this;if(0===e.settleStatus){var r=this;this.$confirm("确定该客户已结账？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$postJson(t._basePath.ajaxStallCustomerEnable,{orderCode:e.orderCode,settleStatus:1}).then(function(n){n.success?(t.$message.success("状态修改成功！"),r.getUsers(!0)):t.$set(e,"settleStatus",1)})})}else 1===e.settleStatus&&this.$confirm("将结账状态设为未结账？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$postJson(t._basePath.ajaxStallCustomerEnable,{orderCode:e.orderCode,settleStatus:0}).then(function(r){r.success?(t.$message.success("状态修改成功！"),t.getUsers(!0)):t.$set(e,"settleStatus",0)})})},getLogisticsCom:function(e){var t=this;if(!this._isHasVal(e))return!1;this.$postJson(this._basePath.ajaxLogisticsCom,{expressNo:e}).then(function(e){e.success&&(t.logistics=e.data)})},showDrawerDetail:function(e){this.getDetail(e,!0)},getDetail:function(e,t){var r=this;this.$postJson(this._basePath.ajaxOrderById,{orderCode:e.orderCode}).then(function(e){e.success&&(t?(r.showDrawer=!0,r.drawerDetail=e.data||{}):r.details=e.data||{},r.secShow=!0)})},downFile:function(e,t){var r=document.getElementById("tag");r.download=t;var n=new Blob([e]),a=window.URL.createObjectURL(n);r.href=e,r.click(),window.URL.revokeObjectURL(a)},downloadExcel:function(){var e=this;this.dateMaxDays=92,this.$nextTick(function(){var t=e.$refs.dateFilter.getParams();if(!t)return!1;var r=t[0],n=t[1],s=e.$refs.vipSettleType&&e.$refs.vipSettleType.getParams(),o=e.$refs.allSettleType&&e.$refs.allSettleType.getParams(),l=e.$refs.statusList&&e.$refs.statusList.getParams(),i=e.$refs.orderStatusFilter&&e.$refs.orderStatusFilter.getParams(),u=e.$refs.vipStatus&&e.$refs.vipStatus.getParams(),c=e.$refs.vipSettleStatus&&e.$refs.vipSettleStatus.getParams(),p={orderType:e.orderType,stallId:e.getCookie("stallId")-0};p=a()({},e.filters,p),s&&(p.settleType=s.settleType),l&&void 0!==l.status&&(p.status=l.status),o&&void 0!==o.settleType&&(p.allSettleType=l.settleType),i&&void 0!==i.status&&(p.status=i.status),u&&void 0!==u.status&&(p.status=u.status),c&&void 0!==c.settleStatus&&(p.settleStatus=c.settleStatus),p.startTime=e._formatTime(r),p.endTime=e._formatTime(n),e.$postJson(e._basePath.ajaxDownloadVerify,p).then(function(t){t.success&&(p.token=t.data.token,e.downFile(e._basePath.ajaxDownloadOrder+"?"+e.serializeParam(p),t.data.fileName))})})},formatStatus:function(e,t){var r=e.status;return t?-1===r?"warn_color":0===r?"warn_color":1===r?"":2===r?"err_color":3===r?"":4===r?"text_color":5===r?"text_color":6===r?"":7===r?"success_color":8===r?"err_color":9===r?"err_color":10===r?"err_color":"—":-1===r?"订单异常":0===r?"待确认":1===r?"已确认":2===r?"订单驳回":3===r?"待付款":4===r?"待出货":5===r?"待发货":6===r?"待签收":7===r?"交易完成":8===r?"交易关闭-档口退单":9===r?"交易关闭-交易超时":10===r?"交易关闭-订单作废":"—"},formatReturnType:function(e){var t=e.returnType;return 1===t?"账户余额退款":2===t?"线下退款":"—"},formatDelivery:function(e){return 1===e.distributionType?"自提":2===e.distributionType?"现取":3===e.distributionType?"物流":"—"},formatDistributionStatus:function(e,t){var r=e.distributionStatus;return t?1===r?"text_color":2===r?"text_color":3===r?"err_color":"":1===r?"未出货":2===r?"未发货":3===r?"待签收":4===r?"已签收":"—"},formatPayWay:function(e){var t=e.payType;return 0===t?"未选择":1===t?"现金":2===t?"微信":3===t?"支付宝":"—"},formatStockStatus:function(e,t){var r=e.stockStatus;return t&&2===r?"success_color":0===r?"无":1===r?"未备货":2===r?"已备货":"—"},formatCreateTime:function(e){return this.$dateFns.format(e.createTime,"YYYY-MM-DD HH:mm:ss")},formatOrderType:function(e){return 1===e.orderType?"销售单":2===e.orderType?"补货单":3===e.orderType?"退货单":4===e.orderType?"零售单":5===e.orderType?"快捷退货单":"VIP客户单"},formatSettleType:function(e){var t=e.settleType;return 1===t?"现结":2===t?"挂账":3===t?"赊账":"—"},formatCustomerName:function(e){e.customerName;var t=e.customerType;return 1===t?e.customerName:3===t?"散客":"—"},formatSettleStatus:function(e,t){var r=e.settleStatus;return t?0===r?"text_color cursor":"":0===r?"未结算":"已结算"},formatBool:function(e,t){return!0===e.isShow?"是":"否"},queryData:function(e){e&&e.hasOwnProperty("settleType")&&(this.isShowHangupOrder=2===e.settleType),this.pageNum=1,this.getUsers(!0)},setShipmentStatus:function(e,t){var r=this;this.curRow=e,this.shipVisible=!0,t||this.$nextTick(function(){r.$refs.shipForm.resetFields()})},orderCancel:function(e){var t=this;this.$confirm("点击作废后，该订单将失效，确定作废？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$postJson(t._basePath.ajaxOrderCancel,{orderCode:e.orderCode}).then(function(e){e.success&&(t.$message.success("操作成功"),t.getUsers(!0))})}).catch(function(){})},retreatOrder:function(e){var t=this;this.$confirm("退单后，此订单将作废（扫码支付金额将原路返回，现金支付金额需线下退回），确定退单？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$postJson(t._basePath.ajaxOrderRetreatOrder,{orderCode:e.orderCode}).then(function(e){e.success&&(t.$message.success("操作成功"),t.getUsers(!0))})}).catch(function(){})},orderStock:function(e){var t=this;if(2===e.stockStatus)return!1;this.$confirm("点击备货后将不可修改备货状态，确定商品已经完成备货？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$postJson(t._basePath.ajaxOrderStock,{orderCode:e.orderCode,stockStatus:2}).then(function(e){e.success&&(t.$message.success("备货成功"),t.getUsers(!0))})})},remindCustomerFn:function(e,t){var r=this;this.$postJson(this._basePath.ajaxOrderRemindCustomer,{orderCode:e.orderCode,type:t}).then(function(e){e.success&&(11===t&&r.$message.success("提醒对方确认订单消息成功发出！"),12===t&&r.$message.success("提醒对方付款消息成功发出！"),13===t&&r.$message.success("提醒对方收货消息成功发出！"))})},shipImmediate:function(){var e=this;this.$refs.shipForm.validate(function(t){if(t){var r={orderCode:e.curRow.orderCode,expressCode:e.shipForm.expressCode,expressNo:e.shipForm.expressNo};e.$postJson(e._basePath.ajaxOrderSendout,r).then(function(t){t.success&&(e.$message.success("操作成功"),e.getUsers(!0),e.shipVisible=!1)})}})},handleCurrentChange:function(e){this.pageNum=e,this.getUsers()},clearSearch:function(){this.filters=this._clearVal(this.filters,["precisionName"])},getUsers:function(e){var t=this,r={pageNum:this.pageNum,pageSize:this.pageSize};this.dateMaxDays=366,this.$nextTick(function(){var e=t.$refs.dateFilter&&t.$refs.dateFilter.getParams();if(!e)return!1;r.orderType=t.orderType;var n=t.$refs.statusList&&t.$refs.statusList.getParams(),s=t.$refs.vipSettleType&&t.$refs.vipSettleType.getParams(),o=t.$refs.allSettleType&&t.$refs.allSettleType.getParams(),l=t.$refs.vipSettleStatus&&t.$refs.vipSettleStatus.getParams(),i=t.$refs.vipStatus&&t.$refs.vipStatus.getParams(),u=t.$refs.orderStatusFilter&&t.$refs.orderStatusFilter.getParams();t.$set(t.filters,"startTime",e[0]),t.$set(t.filters,"endTime",e[1]),r=a()({},r,t.filters,o,n,s,i,u,l),t.loading=!0,t.$postJson(t._basePath.ajaxOrderByPage,r).then(function(e){t.loading=!1,e.success&&(t.total=e.data?e.data.count:0,t.users=e.data?e.data.datas:[])})})}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"app-container",attrs:{id:"order_list"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.secShow,expression:"!secShow"}]},[r("a",{attrs:{id:"tag",href:"",download:""}}),e._v(" "),r("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[r("el-form",{attrs:{inline:!0,model:e.filters},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"订单号"}},[r("el-input",{attrs:{placeholder:"订单号"},model:{value:e.filters.precisionValue,callback:function(t){e.$set(e.filters,"precisionValue",t)},expression:"filters.precisionValue"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"客户名"}},[r("el-input",{attrs:{placeholder:"客户名"},model:{value:e.filters.customerName,callback:function(t){e.$set(e.filters,"customerName",t)},expression:"filters.customerName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"客户手机号"}},[r("el-input",{attrs:{placeholder:"客户手机号"},model:{value:e.filters.customerPhone,callback:function(t){e.$set(e.filters,"customerPhone",t)},expression:"filters.customerPhone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"开单时间"}},[r("date-pick",{ref:"dateFilter",attrs:{isLimit:"",maxDays:e.dateMaxDays,size:"mini",defaultIndex:"30",showArr:["today","yesterday","last30"]}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.queryData}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:e.clearSearch}},[e._v("清空筛选条件")]),e._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:e.downloadExcel}},[e._v("导出查询结果")])],1)],1),e._v(" "),r("filter-list",{key:"1",ref:"orderTypeList",staticStyle:{"margin-bottom":"0"},attrs:{title:"订单类型",filterList:e.orderTypeList},on:{filterChange:e.orderTypeChange}}),e._v(" "),e.orderType?e._e():r("filter-list",{key:"2",ref:"allSettleType",staticStyle:{"margin-bottom":"0"},attrs:{title:"结算类型",filterList:e.allSettleType},on:{filterChange:e.queryData}}),e._v(" "),!e.orderType||e._isHave(e.orderType,[1,2])?r("filter-list",{key:"3",ref:"statusList",staticStyle:{"margin-bottom":"0"},attrs:{title:"订单状态",filterList:e.orderType?e.statusList.filter(function(e){return 10!==e.filterVal.status}):e.statusList},on:{filterChange:e.queryData}}):e._e(),e._v(" "),e._isHave(e.orderType,[5,6])?r("filter-list",{key:"4",ref:"vipSettleType",staticStyle:{"margin-bottom":"0"},attrs:{title:"VIP结算类型",filterList:e.vipSettleType},on:{filterChange:e.queryData}}):e._e(),e._v(" "),6===e.orderType?r("filter-list",{key:"5",ref:"vipStatus",staticStyle:{"margin-bottom":"0"},attrs:{title:"VIP订单状态",filterList:e.vipStatus},on:{filterChange:e.queryData}}):e._e(),e._v(" "),5===e.orderType?r("filter-list",{key:"6",ref:"orderStatusFilter",staticStyle:{"margin-bottom":"0"},attrs:{title:"订单状态",filterList:e.orderStatusFilter},on:{filterChange:e.queryData}}):e._e()],1),e._v(" "),r("record-count",{attrs:{total:e.total}}),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":""}},[r("el-table-column",{key:Math.random(),attrs:{type:"selection",width:"45"}}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{prop:"orderCode",label:e.columnLabel,"min-width":"110px"}}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{prop:"createTime",width:"100px",label:"开单时间",formatter:e.formatCreateTime}}),e._v(" "),e.orderType?e._e():r("el-table-column",{key:Math.random(),attrs:{prop:"orderType",label:"订单类型",formatter:e.formatOrderType}}),e._v(" "),!e.orderType||e._isWithout(e.orderType,[4])?[r("el-table-column",{attrs:{prop:"customerName",label:"客户名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.customerName||"散客")+"\n            ")]}}])})]:e._e(),e._v(" "),!e.orderType||e._isWithout(e.orderType,[3])?[r("el-table-column",{key:Math.random(),attrs:{prop:"settleType",label:"结算类型",formatter:e.formatSettleType}}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{prop:"distributionType",label:"配送方式",formatter:e.formatDelivery}})]:e._e(),e._v(" "),e.orderType?e._e():r("el-table-column",{key:Math.random(),attrs:{prop:"shouldFee",label:"订单金额(元)"}}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{prop:"status",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{class:e.formatStatus(t.row,!0)},[e._v(e._s(e.formatStatus(t.row)))])]}}])}),e._v(" "),e._isHave(e.orderType,[6])?[r("el-table-column",{key:Math.random(),attrs:{prop:"actualFee",label:"应收金额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticClass:"err_color"},[e._v(e._s(t.row.shouldFee))])]}}])}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{prop:"stockStatus",label:"备货状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{class:[e.formatStockStatus(t.row,!0)]},[e._v(e._s(e.formatStockStatus(t.row)))])]}}])}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{label:"是否结账"},scopedSlots:e._u([{key:"default",fn:function(t){return[2===t.row.settleType?r("span",{class:[0===t.row.settleStatus?"err_color":"success_color"],staticStyle:{"margin-right":"10px"}},[e._v(e._s(0===t.row.settleStatus?"否":"是"))]):e._e(),e._v(" "),1===t.row.settleType?r("span",{staticClass:"success_color",staticStyle:{"margin-right":"10px"}},[e._v("是")]):e._e()]}}])})]:e._e(),e._v(" "),e._isHave(e.orderType,[1,2])?[r("el-table-column",{key:Math.random(),attrs:{prop:"stockStatus",label:"备货状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{class:[e.formatStockStatus(t.row,!0)]},[e._v(e._s(e.formatStockStatus(t.row)))])]}}])}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{prop:"actualFee",label:"应收金额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticClass:"err_color"},[e._v(e._s(t.row.shouldFee))])]}}])})]:e._e(),e._v(" "),e._isHave(e.orderType,[4,5])?[r("el-table-column",{key:Math.random(),attrs:{prop:"customerPhone",label:5===e.orderType?"退款方式":"收款方式",formatter:e.formatPayWay}}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{prop:"actualFee",label:5===e.orderType?"实退金额(元)":"实收金额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticClass:"err_color"},[e._v(e._s(t.row.actualFee))])]}}])}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{prop:"totalNum",label:"商品数量"}})]:e._e(),e._v(" "),3===e.orderType?[r("el-table-column",{key:Math.random(),attrs:{prop:"returnType",label:"退款方式",formatter:e.formatReturnType}}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{prop:"actualFee",label:"实退金额(元)"}}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{prop:"totalNum",label:"退货数量"}}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{prop:"oldOrderCode",label:"原订单编号","min-width":"110px"}}),e._v(" "),r("el-table-column",{key:Math.random(),attrs:{prop:"customerPhone",label:"手机号"}})]:e._e(),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:e.processWidth,fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"process_td"},[r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){e.getDetail(t.row)}}},[e._v("查看")]),e._v(" "),e._isHave(e.filters.orderType,[5])&&10!==t.row.status?r("el-button",{attrs:{type:"danger",plain:"",size:"small"},on:{click:function(r){e.orderCancel(t.row,!0)}}},[e._v("订单作废")]):e._e(),e._v(" "),[e.isAvailRetreat(t.row)?r("el-button",{attrs:{type:"danger",plain:"",size:"small"},on:{click:function(r){e.retreatOrder(t.row)}}},[e._v("退单")]):e._e(),e._v(" "),e._isHave(t.row.status,[5])?r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){e.setShipmentStatus(t.row)}}},[e._v("发货")]):e._e(),e._v(" "),e._isHave(t.row.status,[6])?r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){e.setShipmentStatus(t.row)}}},[e._v("更改物流")]):e._e(),e._v(" "),e._isHave(t.row.status,[4])&&1===t.row.stockStatus?r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){e.orderStock(t.row)}}},[e._v("备货")]):e._e(),e._v(" "),e._isHave(t.row.status,[0])?r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){e.remindCustomerFn(t.row,11)}}},[e._v("提醒确认")]):e._e(),e._v(" "),e._isHave(t.row.status,[3])?r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){e.remindCustomerFn(t.row,12)}}},[e._v("提醒付款")]):e._e(),e._v(" "),6===t.row.status?r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){e.remindCustomerFn(t.row,13)}}},[e._v("提醒收货")]):e._e(),e._v(" "),8!==t.row.status&&0===t.row.settleStatus&&2===t.row.settleType?r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){e.switchChange(t.row)}}},[e._v("设为已结账")]):e._e(),e._v(" "),8!==t.row.status&&1===t.row.settleStatus&&2===t.row.settleType?r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){e.switchChange(t.row)}}},[e._v("设为未结账")]):e._e()]],2)]}}])})],2),e._v(" "),r("div",{staticClass:"page_toolbar"},[r("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","page-size":e.pageSize,"current-page":e.pageNum,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"发货",visible:e.shipVisible,center:"",width:"600px"},on:{"update:visible":function(t){e.shipVisible=t}}},[r("el-form",{ref:"shipForm",staticClass:"set_middle",attrs:{inline:!0,"label-width":"100px",model:e.shipForm,rules:e.shipFormRules}},[r("div",{staticClass:"set_column"},[r("el-form-item",{attrs:{prop:"expressNo",label:"快递单号"}},[r("el-input",{attrs:{placeholder:"请输入快递单号"},on:{blur:function(t){e.getLogisticsCom(e.shipForm.expressNo)}},model:{value:e.shipForm.expressNo,callback:function(t){e.$set(e.shipForm,"expressNo",t)},expression:"shipForm.expressNo"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"物流公司",prop:"expressCode"}},[r("el-select",{attrs:{placeholder:"请选择物流公司"},model:{value:e.shipForm.expressCode,callback:function(t){e.$set(e.shipForm,"expressCode",t)},expression:"shipForm.expressCode"}},e._l(e.logistics,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.code}})}))],1)],1)]),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{nativeOn:{click:function(t){e.shipVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.shipImmediate}},[e._v("立即发货")])],1)],1),e._v(" "),r("Secondary",{attrs:{title:e.formatOrderType(e.details)},model:{value:e.secShow,callback:function(t){e.secShow=t},expression:"secShow"}},[e.secShow?r("OrderDetail",{attrs:{details:e.details},on:{showDrawerDetail:e.showDrawerDetail}}):e._e()],1),e._v(" "),r("Drawer",{attrs:{title:"订单详情",width:"800px"},model:{value:e.showDrawer,callback:function(t){e.showDrawer=t},expression:"showDrawer"}},[r("OrderDetail",{attrs:{details:e.drawerDetail}})],1)],1)},staticRenderFns:[]};var i=r("VU/8")(o,l,!1,function(e){r("aqgw")},null,null);t.default=i.exports},Qvjr:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+r("41FU")+") ;\n  src: url("+r("41FU")+"#iefix) format('embedded-opentype'), url("+r("AmmJ")+") format('woff'), url("+r("gjvD")+") format('truetype'), url("+r("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#order_list .in_debt {\n  text-align: center;\n  font-weight: bold;\n  margin-top: 20px;\n}\n#order_list .settle_h3 {\n  line-height: 20px;\n}\n#order_list .confirm_checkbox {\n  margin: 20px 0;\n}\n#order_list .process_td .el-button {\n  margin: 3px;\n}\n#order_list .big_btn {\n  display: block;\n}\n#order_list .big_btn label {\n  margin: 10px;\n  display: block;\n}\n#order_list .big_btn label .el-radio-button__inner {\n  display: block;\n  border-radius: 4px;\n  margin-left: -1px;\n  border-left: 1px solid #dcdfe6;\n}\n#order_list .big_btn label.is-active .el-radio-button__inner {\n  border-left: 0;\n}\n",""])},aqgw:function(e,t,r){var n=r("Qvjr");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r("rjj0")("328d938c",n,!0)}});