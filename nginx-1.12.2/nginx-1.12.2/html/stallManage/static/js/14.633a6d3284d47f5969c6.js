webpackJsonp([14],{"6w6p":function(n,t,e){var o=e("PwQS");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);e("rjj0")("087f3f99",o,!0)},PwQS:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+e("41FU")+") ;\n  src: url("+e("41FU")+"#iefix) format('embedded-opentype'), url("+e("AmmJ")+") format('woff'), url("+e("gjvD")+") format('truetype'), url("+e("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#auth_page .link_a {\n  display: inline-block;\n  padding: 12px 20px;\n  color: #fff;\n  background-color: #409eff;\n  border-color: #409eff;\n  border-radius: 4px;\n  margin-right: 10px;\n  font-weight: 500;\n}\n#auth_page .link_btn {\n  position: relative;\n  padding: 0;\n  width: 120px;\n}\n#auth_page .link_btn a {\n  display: inline-block;\n  width: 120px;\n  height: 40px;\n  line-height: 40px;\n}\n#auth_page .tips {\n  display: inline-block;\n  margin-top: 10px;\n  margin-bottom: 20px;\n}\n",""])},Yya0:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"auth_page"}},[e("section",{staticClass:"app-container"},[e("div",{staticClass:"process_btns"},[e("a",{staticClass:"link_a",attrs:{href:n.authLink,loading:!n.authLink,target:"_blank"}},[n._v("添加授权店铺")]),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:n.getUsers}},[n._v("刷新店铺")])],1),n._v(" "),e("div",{staticClass:"tips light_color"},[n._v("( 备注：一个档口可以管理多个店铺，但是一个店铺不能同时绑定在多个档口下。目前只支持淘宝平台店铺绑定 )")]),n._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:n.users,"highlight-current-row":""}},[e("el-table-column",{attrs:{prop:"title",label:"序号"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v(n._s(t.$index))]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"storeSysType",label:"平台类型"}}),n._v(" "),e("el-table-column",{attrs:{prop:"name",label:"店铺名称"}}),n._v(" "),e("el-table-column",{attrs:{prop:"status",label:"授权状态"}}),n._v(" "),e("el-table-column",{attrs:{prop:"createTime",label:"授权时间",formatter:n.formatAuthTime}}),n._v(" "),e("el-table-column",{attrs:{prop:"lastSyncOrderTime",label:"最近同步时间",formatter:n.formatNewestTime}}),n._v(" "),e("el-table-column",{attrs:{prop:"",label:"操作",width:"180px"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){n.setSync(t.row)}}},[n._v("同步商品")]),n._v(" "),e("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(e){n.removeShop(t.row)}}},[n._v("删除")])]}}])})],1)],1)])},staticRenderFns:[]};var i=e("VU/8")({name:"",data:function(){return{users:[],loading:!1,authLink:""}},created:function(){this.getUsers(),this.authrizeShop()},components:{},methods:{formatNewestTime:function(n){return this._formatTime(n.lastSyncOrderTime,!0)||"—"},formatAuthTime:function(n){return this._formatTime(n.createTime,!0)||"—"},authrizeShop:function(){var n=this;this.$postJson(this._basePath.ajaxAuthrize,{userId:1,userType:1}).then(function(t){t.success&&(n.authLink=t.data)})},setSync:function(n){var t=this,e={webStoreId:n.id,userId:1};this.$postJson(this._basePath.ajaxSyncGoods,e).then(function(n){n.success&&t.$message.success("开始同步")})},removeShop:function(n){var t=this,e={idList:[n.id].toString()};this.$confirm("删除后，将不能再同步该淘宝店铺商品，确定删除？","提示",{type:"warning"}).then(function(){t.$postJson(t._basePath.ajaxAuthShopDel,e).then(function(n){n.success&&(t.$message.success("删除成功"),t.getUsers())})}).catch(function(){})},getUsers:function(){var n=this;this.loading=!0,this.$postJson(this._basePath.ajaxGetShopByPage,{userId:1,pageNum:1,pageSize:9999}).then(function(t){n.loading=!1,t.success&&(n.total=t.data.count,n.users=t.data&&t.data.datas)})}}},o,!1,function(n){e("6w6p")},null,null);t.default=i.exports}});