webpackJsonp([8],{"1H6C":function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,l=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n("HhN8"),i)r.regeneratorRuntime=l;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},HhN8:function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,l="function"==typeof Symbol?Symbol:{},a=l.iterator||"@@iterator",o=l.asyncIterator||"@@asyncIterator",s=l.toStringTag||"@@toStringTag",u="object"==typeof e,c=t.regeneratorRuntime;if(c)u&&(e.exports=c);else{(c=t.regeneratorRuntime=u?e.exports:{}).wrap=y;var d="suspendedStart",m="suspendedYield",p="executing",f="completed",g={},h={};h[a]=function(){return this};var b=Object.getPrototypeOf,v=b&&b(b(j([])));v&&v!==r&&i.call(v,a)&&(h=v);var _=k.prototype=w.prototype=Object.create(h);U.prototype=_.constructor=k,k.constructor=U,k[s]=U.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===U||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(_),e},c.awrap=function(e){return{__await:e}},S(I.prototype),I.prototype[o]=function(){return this},c.AsyncIterator=I,c.async=function(e,t,n,r){var i=new I(y(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},S(_),_[s]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=j,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(F),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return o.type="throw",o.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var l=this.tryEntries.length-1;l>=0;--l){var a=this.tryEntries[l],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var a=l?l.completion:{};return a.type=e,a.arg=t,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function y(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,l=Object.create(i.prototype),a=new T(r||[]);return l._invoke=function(e,t,n){var r=d;return function(i,l){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw l;return L()}for(n.method=i,n.arg=l;;){var a=n.delegate;if(a){var o=P(a,n);if(o){if(o===g)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=x(e,t,n);if("normal"===s.type){if(r=n.done?f:m,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=f,n.method="throw",n.arg=s.arg)}}}(e,n,a),l}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function U(){}function k(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function I(e){var t;this._invoke=function(n,r){function l(){return new Promise(function(t,l){!function t(n,r,l,a){var o=x(e[n],e,r);if("throw"!==o.type){var s=o.arg,u=s.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,l,a)},function(e){t("throw",e,l,a)}):Promise.resolve(u).then(function(e){s.value=e,l(s)},a)}a(o.arg)}(n,r,t,l)})}return t=t?t.then(l,l):l()}}function P(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,P(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=x(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,g;var l=i.arg;return l?l.done?(t[e.resultName]=l.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,g):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,l=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return l.next=l}}return{next:L}}function L(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},JxaQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Xxa5"),i=n.n(r),l=n("exGp"),a=n.n(l),o=n("woOf"),s=n.n(o),u=n("Dd8w"),c=n.n(u),d=n("BO1k"),m=n.n(d),p=n("//Fk"),f=n.n(p),g={userTypes:[{label:"档口老板",value:1},{label:"档口店员",value:2},{label:"买家",value:3},{label:"个人零散买家",value:4},{label:"运营管理",value:5},{label:"后台管理员",value:6}],userStatus:[{label:"未激活",value:0},{label:"正常",value:1},{label:"禁用",value:2}],res:{code:0,msg:"成功",data:{pageInfo:{pageNum:1,pageSize:10,size:10,orderBy:null,startRow:1,endRow:10,total:2221,pages:223,list:[{id:"8a8694b76029b60b01602a9ef537004a",createUserId:null,updateUserId:null,createTime:1512543549e3,updateTime:1512543549e3,productCode:"jc-哦哦哦哦",barcode:null,title:"咯哦呜呜",imgUrl_main:"http://proxy.tintop.cn:26880/group1/M00/00/04/CgYUQ1onlPuAWQknAAXnLaISZSg668.jpg",imgUrl_1:"http://proxy.tintop.cn:26880/group1/M00/00/04/CgYUQ1onlP-AWEPwABf-VNnYmbo834.jpg",imgUrl_2:"http://proxy.tintop.cn:26880/group1/M00/00/04/CgYUQ1onlQCAEJhJABwuKz34JkE223.jpg",imgUrl_3:null,imgUrl_4:null,imgUrl_5:null,imgUrl_6:null,imgUrl_7:null,imgUrl_8:null,purchasePrice:0,saleState:1,saleTime:null,companyId:"402880fb5fa97a00015fb383760c01c4",sellPrice:556665,description:null,catelogId:null,supplierId:null,vmStallId:"8a8694b76029b60b01602a9ef5370049",fromProductId:null,num_iid:null,comeType:0,goodsCode:null,productCodeValid:0},{id:"8a8694b7602ae91d01602af62fec0017",createUserId:null,updateUserId:null,createTime:1512549265e3,updateTime:1512549309e3,productCode:"PC001",barcode:null,title:"PC添加的商品1",imgUrl_main:"http://proxy.tintop.cn:26880/group1/M00/00/04/CgYUQ1onq5yABkV_AABTbrOAqVw893.jpg",imgUrl_1:null,imgUrl_2:null,imgUrl_3:null,imgUrl_4:null,imgUrl_5:null,imgUrl_6:null,imgUrl_7:null,imgUrl_8:null,purchasePrice:50,saleState:1,saleTime:1512549265e3,companyId:"8a8694b7602ab88a01602abeb9e80006",sellPrice:100,description:null,catelogId:"8a8694b7602ab83d01602ac505730005",supplierId:"8a8694b7602ab83d01602ac5b1670008",vmStallId:null,fromProductId:null,num_iid:null,comeType:0,goodsCode:null,productCodeValid:0},{id:"8a8694b7602ae91d01602afdf5900031",createUserId:null,updateUserId:null,createTime:1512549775e3,updateTime:1512549775e3,productCode:"ppodj",barcode:null,title:"hfjfjdj",imgUrl_main:"http://cws.nabei.net:26880/group1/M00/00/04/CgYUQ1onrY2AHIZQAAAULzJu8jY803.png",imgUrl_1:"http://cws.nabei.net:26880/group1/M00/00/04/CgYUQ1onrY6AJaR-AABHzgsHUFY698.png",imgUrl_2:null,imgUrl_3:null,imgUrl_4:null,imgUrl_5:null,imgUrl_6:null,imgUrl_7:null,imgUrl_8:null,purchasePrice:95,saleState:1,saleTime:1512549775e3,companyId:"402880fb5fc42799015fc9a143df0260",sellPrice:66,description:null,catelogId:null,supplierId:"8a8694b7602ae91d01602afdc2520030",vmStallId:null,fromProductId:null,num_iid:null,comeType:0,goodsCode:null,productCodeValid:0},{id:"8a8694b7602ae91d01602b027631007f",createUserId:null,updateUserId:null,createTime:151255007e4,updateTime:151255007e4,productCode:"001",barcode:null,title:"商品001",imgUrl_main:"http://proxy.tintop.cn:26880/group1/M00/00/04/CgYUQ1onrp6ADQlyAAUEHjybvkA053.jpg",imgUrl_1:null,imgUrl_2:null,imgUrl_3:null,imgUrl_4:null,imgUrl_5:null,imgUrl_6:null,imgUrl_7:null,imgUrl_8:null,purchasePrice:123,saleState:1,saleTime:151255007e4,companyId:"8a8694b7602ab88a01602acb35bb001f",sellPrice:1250,description:null,catelogId:"",supplierId:"8a8694b7602ae91d01602aec634f0004",vmStallId:null,fromProductId:null,num_iid:null,comeType:0,goodsCode:null,productCodeValid:0},{id:"8a8694b7602ae91d01602b09617b008a",createUserId:null,updateUserId:null,createTime:1512550523e3,updateTime:null,productCode:"no_555938036540",barcode:"null",title:"amazon亚马逊listing关键词排名上首页30个长尾词新品推广seo服务",imgUrl_main:"https://item.taobao.com/item.htm?id=555938036540&spm=2015.12107834.0.0",imgUrl_1:null,imgUrl_2:null,imgUrl_3:null,imgUrl_4:null,imgUrl_5:null,imgUrl_6:null,imgUrl_7:null,imgUrl_8:null,purchasePrice:1,saleState:1,saleTime:1512547097e3,companyId:"8a8694b7602ab88a01602abfc2a4000d",sellPrice:1,description:null,catelogId:null,supplierId:null,vmStallId:null,fromProductId:null,num_iid:null,comeType:0,goodsCode:null,productCodeValid:0},{id:"8a8694b7602ae91d01602b096188008c",createUserId:null,updateUserId:null,createTime:1512550523e3,updateTime:null,productCode:"8888",barcode:"null",title:"冬季新款潮流女装气质淑女休闲夹克单排扣短款毛呢外套",imgUrl_main:"https://item.taobao.com/item.htm?id=562165362294&spm=2015.12107834.0.0",imgUrl_1:null,imgUrl_2:null,imgUrl_3:null,imgUrl_4:null,imgUrl_5:null,imgUrl_6:null,imgUrl_7:null,imgUrl_8:null,purchasePrice:100,saleState:1,saleTime:1512543525e3,companyId:"8a8694b7602ab88a01602abfc2a4000d",sellPrice:100,description:null,catelogId:"8a8694b7602ae91d01602b096183008b",supplierId:null,vmStallId:null,fromProductId:null,num_iid:null,comeType:0,goodsCode:null,productCodeValid:0},{id:"8a8694b7602ae91d01602b0961ca008d",createUserId:null,updateUserId:null,createTime:1512550523e3,updateTime:null,productCode:"no_560187502727",barcode:"null",title:"亚马逊全站全款测评FBA直评点赞QA真实买家下单购买美国站欧洲站",imgUrl_main:"https://item.taobao.com/item.htm?id=560187502727&spm=2015.12107834.0.0",imgUrl_1:null,imgUrl_2:null,imgUrl_3:null,imgUrl_4:null,imgUrl_5:null,imgUrl_6:null,imgUrl_7:null,imgUrl_8:null,purchasePrice:1,saleState:1,saleTime:151246412e4,companyId:"8a8694b7602ab88a01602abfc2a4000d",sellPrice:1,description:null,catelogId:null,supplierId:null,vmStallId:null,fromProductId:null,num_iid:null,comeType:0,goodsCode:null,productCodeValid:0},{id:"8a8694b7602ae91d01602b0961d3008e",createUserId:null,updateUserId:null,createTime:1512550523e3,updateTime:null,productCode:"no_557805459677",barcode:"null",title:"速卖通代运营1个月上银牌中国好卖家成功后收费运营文案推广全包",imgUrl_main:"https://item.taobao.com/item.htm?id=557805459677&spm=2015.12107834.0.0",imgUrl_1:null,imgUrl_2:null,imgUrl_3:null,imgUrl_4:null,imgUrl_5:null,imgUrl_6:null,imgUrl_7:null,imgUrl_8:null,purchasePrice:1,saleState:1,saleTime:1512294674e3,companyId:"8a8694b7602ab88a01602abfc2a4000d",sellPrice:1,description:null,catelogId:null,supplierId:null,vmStallId:null,fromProductId:null,num_iid:null,comeType:0,goodsCode:null,productCodeValid:0},{id:"8a8694b7602ae91d01602b0961da008f",createUserId:null,updateUserId:null,createTime:1512550523e3,updateTime:null,productCode:"no_543328878924",barcode:"null",title:"亚马逊Amazon关键词keyword排名包上服务推广seo干预不成功不收费",imgUrl_main:"https://item.taobao.com/item.htm?id=543328878924&spm=2015.12107834.0.0",imgUrl_1:null,imgUrl_2:null,imgUrl_3:null,imgUrl_4:null,imgUrl_5:null,imgUrl_6:null,imgUrl_7:null,imgUrl_8:null,purchasePrice:1,saleState:1,saleTime:1512265023e3,companyId:"8a8694b7602ab88a01602abfc2a4000d",sellPrice:1,description:null,catelogId:null,supplierId:null,vmStallId:null,fromProductId:null,num_iid:null,comeType:0,goodsCode:null,productCodeValid:0},{id:"8a8694b7602ae91d01602b0961e10090",createUserId:null,updateUserId:null,createTime:1512550523e3,updateTime:null,productCode:"no_558507740299",barcode:"null",title:"amazon亚马逊关键词排名上首页1主词5精准词30长尾词新品推广seo",imgUrl_main:"https://item.taobao.com/item.htm?id=558507740299&spm=2015.12107834.0.0",imgUrl_1:null,imgUrl_2:null,imgUrl_3:null,imgUrl_4:null,imgUrl_5:null,imgUrl_6:null,imgUrl_7:null,imgUrl_8:null,purchasePrice:1,saleState:1,saleTime:1512035458e3,companyId:"8a8694b7602ab88a01602abfc2a4000d",sellPrice:1,description:null,catelogId:null,supplierId:null,vmStallId:null,fromProductId:null,num_iid:null,comeType:0,goodsCode:null,productCodeValid:0}],firstPage:1,prePage:0,nextPage:2,lastPage:8,isFirstPage:!0,isLastPage:!1,hasPreviousPage:!1,hasNextPage:!0,navigatePages:8,navigatepageNums:[1,2,3,4,5,6,7,8]}}},systems1:[{name:"企业管理系统",obj:{publicCode:{name:"公众号列表",data:[{name:"addCode",cont:"添加公众号",id:0,isSelect:!0},{name:"onekey",cont:"一键同步",id:1,isSelect:!0},{name:"dismiss",cont:"接触授权",id:2,isSelect:!1},{name:"reGive",cont:"重新授权",id:3,isSelect:!1},{name:"delList",cont:"删除",id:4,isSelect:!1}]},stuff:{name:"员工管理",data:[{name:"frame",cont:"部门架构",id:5,isSelect:!0},{name:"stuffList",cont:"员工列表",id:6,isSelect:!0}]},selfMenu:{name:"自定义菜单",data:[{name:"delMenu",cont:"删除菜单",id:7,isSelect:!0},{name:"addMenu",cont:"添加菜单",id:8,isSelect:!1},{name:"saveMenu",cont:"保存菜单",id:9,isSelect:!1},{name:"publish",cont:"发布菜单",id:10,isSelect:!1}]}}},{name:"聊天管理系统",obj:{chats:{name:"会话管理",data:[{name:"check",cont:"查看会话",id:11,isSelect:!0},{name:"addLabel",cont:"添加菜单",id:12,isSelect:!1},{name:"forceChat",cont:"强制聊天",id:13,isSelect:!1},{name:"sendMsg",cont:"发送图片",id:14,isSelect:!1},{name:"chat",cont:"会话聊天",id:15,isSelect:!1}]}}}]},h=(n("mtWM"),{data:function(){return{editRole:{roleId:null},rightSetShow:!1,secShow:!1,isJoin:!1,dialogStatus:"",textMap:{update:"编辑子账户",create:"创建子账户"},dialogFormVisible:!1,filters:{phone:""},users:[],total:0,pageNum:1,pageSize:10,treeData:[],checkedKeys:[],sels:[],editFormRules:{phone:[{required:!0,validator:this.noEmpty,message:"手机号不能为空",trigger:"blur"},{required:!0,validator:this.mobileReg,message:"请输入正确的手机号码",trigger:"blur"}],userName:[{required:!0,validator:this.noEmpty,message:"姓名不能为空",trigger:"blur"}],password:[{required:!0,validator:this.noEmpty,message:"密码不能为空",trigger:"blur"},{required:!0,validator:this._sixOrMore,message:"6至16位字母或数字",trigger:"blur"}],repeatPsw:[{required:!0,validator:this.noEmpty,message:"密码不能为空",trigger:"blur"},{required:!0,validator:this._sixOrMore,message:"6至16位字母或数字",trigger:"blur"},{required:!0,validator:this.checkRepeatPsw,message:"两次密码不一致",trigger:"blur"}],codeList:[{required:!0,validator:this.moreThanOne,message:"至少选择一个系统",trigger:"change"}]},editForm:{userName:"",phone:"",password:"",repeatPsw:"",codeList:[],status:1},ids:[],addFormVisible:!1}},created:function(){this.init()},methods:{init:function(){this.getUsers()},queryData:function(){this.pageNum=1,this.getUsers()},formatCreateTime:function(e){return this._formatTime(e.createTime)},formatStatus:function(e){var t=g.userStatus.find(function(t){return t.value===e.status});return t?t.label:e.status},checkRepeatPsw:function(e,t,n){t!==this.editForm.password?n(new Error(e.message)):n()},moreThanOne:function(e,t,n){t&&t.length?n():n(new Error(e.message))},setCustomerStatus:function(e){var t=this;if(1===e.status){var n=this;this.$confirm("确定禁用该客户吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$postJson(t._basePath.ajaxUserEnable,{userId:e.id,status:2}).then(function(e){e.success&&(t.$message.success("禁用成功！"),n.getUsers())})})}else 2===e.status&&this.$postJson(this._basePath.ajaxUserEnable,{userId:e.id,status:1}).then(function(e){e.success&&(t.$message.success("启用成功！"),t.getUsers())})},handleCurrentChange:function(e){this.pageNum=e,this.getUsers()},getUserRights:function(){var e=this,t={userId:this.editForm.id};return new f.a(function(n){e.$postJson(e._basePath.ajaxMenuByUserId,t).then(function(e){var t=e.data;n(t?t.map(function(e){return e.menuId}):[])})})},getAllRights:function(){var e=this;return new f.a(function(t){e.$postJson(e._basePath.ajaxAllMenu).then(function(n){n.success&&t(e.formatData(n.data))})})},formatData:function(e){if(e){var t=function(t){var n=e.filter(function(e){return t.id===e.parentId}),r=!0,i=!1,l=void 0;try{for(var a,o=m()(n);!(r=(a=o.next()).done);r=!0){var s=a.value;t.children?t.children.push(s):t.children=[s],s.isDelete=!0}}catch(e){i=!0,l=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw l}}},n=!0,r=!1,i=void 0;try{for(var l,a=m()(e);!(n=(l=a.next()).done);n=!0){t(l.value)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}for(var o=e.length-1;o>=0;o--)e[o].isDelete&&e.splice(o,1)}return e||[]},getUsers:function(){var e=this,t={pageNum:this.pageNum,pageSize:this.pageSize},n=this.filters;this.$postJson(this._basePath.ajaxUserByPage,c()({},t,n)).then(function(t){t.success&&(e.total=t.data.count,e.users=t.data.datas)})},handleEdit:function(e,t){this.dialogStatus="update",this.secShow=!0,this.editForm=s()({},t),this.$set(this.editForm,"password",""),this.$set(this.editForm,"repeatPsw",""),this.editFormRules={phone:[{required:!0,validator:this.noEmpty,message:"手机号不能为空",trigger:"blur"},{required:!0,validator:this.mobileReg,message:"请输入正确的手机号码",trigger:"blur"}],userName:[{required:!0,validator:this.noEmpty,message:"姓名不能为空",trigger:"blur"}],password:[{required:!0,validator:this._sixOrMore,message:"6至16位字母或数字",trigger:"blur"}],repeatPsw:[{required:!0,validator:this._sixOrMore,message:"6至16位字母或数字",trigger:"blur"},{required:!0,validator:this.checkRepeatPsw,message:"两次密码不一致",trigger:"blur"}],codeList:[{required:!0,validator:this.moreThanOne,message:"至少选择一个系统",trigger:"change"}]}},rightEdit:function(e,t){var n=this;return a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.editForm=s()({},t),n.rightSetShow=!0,e.next=4,n.getAllRights();case 4:return n.treeData=e.sent,e.next=7,n.getUserRights();case 7:n.checkedKeys=e.sent;case 8:case"end":return e.stop()}},e,n)}))()},setRights:function(){var e=this,t=this.$refs.nestCheckbox.getParams(),n={userId:this.editForm.id,menuIdList:t};this.$post(this._basePath.ajaxAuthAuth,n).then(function(t){t.success&&(e.$message.success("分配成功"),e.rightSetShow=!1)})},handleAdd:function(){this.dialogStatus="create",this.secShow=!0,this.editForm={userName:"",phone:"",password:"",repeatPsw:"",codeList:[],status:1},this.editFormRules={phone:[{required:!0,validator:this.noEmpty,message:"手机号不能为空",trigger:"blur"},{required:!0,validator:this.mobileReg,message:"请输入正确的手机号码",trigger:"blur"}],userName:[{required:!0,validator:this.noEmpty,message:"姓名不能为空",trigger:"blur"}],password:[{required:!0,validator:this.noEmpty,message:"不能为空",trigger:"blur"},{required:!0,validator:this._sixOrMore,message:"6至16位字母或数字",trigger:"blur"}],repeatPsw:[{required:!0,validator:this.noEmpty,message:"不能为空",trigger:"blur"},{required:!0,validator:this._sixOrMore,message:"6至16位字母或数字",trigger:"blur"},{required:!0,validator:this.checkRepeatPsw,message:"两次密码不一致",trigger:"blur"}],codeList:[{required:!0,validator:this.moreThanOne,message:"至少选择一个系统",trigger:"change"}]}},createData:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var n={phone:e.editForm.phone,codeList:e.editForm.codeList&&e.editForm.codeList.length?e.editForm.codeList.toString():[].toString(),status:e.editForm.status,userId:e.editForm.id,userName:e.editForm.userName,password:e.editForm.password};e.$postJson(e._basePath.ajaxSaveUser,n).then(function(t){t.success&&(e.$message({message:"提交成功",type:"success"}),e.$refs.editForm.resetFields(),e.secShow=!1,e.getUsers())})}})},selsChange:function(e){this.sels=e},batchRemove:function(e){var t=this,n=e?[e.id]:this.sels.map(function(e){return e.id});this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){var e={ids:n.toString()};t.$postJson(t._basePath.ajaxSubAccountDel,e).then(function(e){e.success&&(t.$message({message:"删除成功",type:"success"}),t.queryData())})}).catch(function(){})}}}),b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-container",attrs:{id:"account_list"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.rightSetShow,expression:"!rightSetShow"}]},[n("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[n("el-form",{attrs:{inline:!0,model:e.filters},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增子账户")]),e._v(" "),n("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:function(t){e.batchRemove()}}},[e._v("批量删除")])],1)],1)],1),e._v(" "),n("record-count",{attrs:{total:e.total}}),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[n("el-table-column",{attrs:{type:"selection",width:"35px"}}),e._v(" "),n("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),e._v(" "),n("el-table-column",{attrs:{prop:"userName",label:"姓名"}}),e._v(" "),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:e.formatCreateTime}}),e._v(" "),n("el-table-column",{attrs:{prop:"status",label:"子账户状态",formatter:e.formatStatus}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"250px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(n){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){e.batchRemove(t.row)}}},[e._v("删除")]),e._v(" "),1===t.row.status?n("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(n){e.setCustomerStatus(t.row)}}},[e._v("禁用")]):e._e(),e._v(" "),2===t.row.status?n("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(n){e.setCustomerStatus(t.row)}}},[e._v("启用")]):e._e()]}}])})],1),e._v(" "),n("div",{staticClass:"page_toolbar"},[n("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","page-size":e.pageSize,"current-page":e.pageNum,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),n("Drawer",{attrs:{title:e.textMap[e.dialogStatus]},model:{value:e.secShow,callback:function(t){e.secShow=t},expression:"secShow"}},[n("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"150px",rules:e.editFormRules}},[n("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[n("el-input",{attrs:{placeholder:"如: 18656123412"},model:{value:e.editForm.phone,callback:function(t){e.$set(e.editForm,"phone",t)},expression:"editForm.phone"}})],1),e._v(" "),n("el-form-item",{class:[void 0!==e.editForm.id&&"no_star"],attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password","auto-complete":"new-password",placeholder:"6-16位字母或数字"},model:{value:e.editForm.password,callback:function(t){e.$set(e.editForm,"password",t)},expression:"editForm.password"}})],1),e._v(" "),n("el-form-item",{class:[void 0!==e.editForm.id&&"no_star"],attrs:{label:"重复密码",prop:"repeatPsw"}},[n("el-input",{attrs:{type:"password","auto-complete":"new-password",placeholder:"请重复密码"},model:{value:e.editForm.repeatPsw,callback:function(t){e.$set(e.editForm,"repeatPsw",t)},expression:"editForm.repeatPsw"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"姓名",prop:"userName"}},[n("el-input",{attrs:{placeholder:"姓名"},model:{value:e.editForm.userName,callback:function(t){e.$set(e.editForm,"userName",t)},expression:"editForm.userName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"权限选择",prop:"codeList"}},[n("el-checkbox-group",{model:{value:e.editForm.codeList,callback:function(t){e.$set(e.editForm,"codeList",t)},expression:"editForm.codeList"}},[n("el-checkbox",{attrs:{label:"cashier"}},[e._v("一体机")]),e._v(" "),n("el-checkbox",{attrs:{label:"pcStallBackend"}},[e._v("PC档口后台")]),e._v(" "),n("el-checkbox",{attrs:{label:"pda"}},[e._v("手持设备")]),e._v(" "),n("el-checkbox",{attrs:{label:"boss"}},[e._v("老板端小程序")])],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"子账户状态"}},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":2},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}})],1)],1),e._v(" "),n("el-button",{attrs:{slot:"footer",type:"primary"},on:{click:e.createData},slot:"footer"},[e._v("保存")])],1),e._v(" "),n("Secondary",{attrs:{title:"权限分配"},model:{value:e.rightSetShow,callback:function(t){e.rightSetShow=t},expression:"rightSetShow"}},[n("NestCheckbox",{ref:"nestCheckbox",attrs:{treeData:e.treeData,checkedKeys:e.checkedKeys}}),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{nativeOn:{click:function(t){e.rightSetShow=!1}}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.setRights}},[e._v("添加")])],1)],1)],1)},staticRenderFns:[]};var v=n("VU/8")(h,b,!1,function(e){n("a17m")},null,null);t.default=v.exports},Xxa5:function(e,t,n){e.exports=n("1H6C")},a17m:function(e,t,n){var r=n("hw++");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n("rjj0")("2b570a61",r,!0)},exGp:function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("//Fk"),l=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new l.default(function(e,n){return function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return l.default.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}},"hw++":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+n("41FU")+") ;\n  src: url("+n("41FU")+"#iefix) format('embedded-opentype'), url("+n("AmmJ")+") format('woff'), url("+n("gjvD")+") format('truetype'), url("+n("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#account_list .no_star .el-form-item__label:before {\n  content: '' !important;\n}\n#account_list .switch_ul {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#account_list .switch_ul li {\n  margin-right: 20px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#account_list .switch_ul li >span {\n  display: inline-block;\n  text-align: right;\n}\n",""])}});