webpackJsonp([13],{"1RVQ":function(e,n,t){var o=t("Z2qR");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("rjj0")("b0b43608",o,!0)},Z2qR:function(e,n,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+t("41FU")+") ;\n  src: url("+t("41FU")+"#iefix) format('embedded-opentype'), url("+t("AmmJ")+") format('woff'), url("+t("gjvD")+") format('truetype'), url("+t("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#customerList .el-checkbox.is-disabled {\n  display: none;\n}\n#customerList .toolbar_process {\n  margin-top: 20px;\n}\n#customerList .el_group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n#customerList .el_group .el-radio {\n  margin: 5px 0;\n}\n#customerList .el_group .el-radio .el-radio__label {\n  padding-left: 30px;\n}\n#customerList .order_detail {\n  border: 1px solid #ddd;\n  padding: 20px;\n  height: 200px;\n  overflow-y: auto;\n}\n#customerList .order_detail li {\n  height: 24px;\n  line-height: 24px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#customerList .order_detail li span {\n  width: 150px;\n  color: #409eff;\n  cursor: pointer;\n}\n",""])},kJxn:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("BO1k"),i=t.n(o),a=t("HEYN"),r=(t("Z/wl"),{data:function(){return{dialogVisible:!1,levelTypes:a.a.levelTypes,settleTypes:a.a.settleTypes,classifyList:[{label:"全部宝贝",value:""},{label:"未分类宝贝",value:0},{label:"已分类宝贝",value:1}],options:[],dialogStatus:"",textMap:{update:"编辑客户",create:"新增客户"},filters:{productCode:"",categoryOptions:[],categoryStoreType:""},cascaderProps:{children:"children",label:"name",value:"id"},defaultProps:{children:"children",label:"name"},users:[],total:0,pageNum:1,pageSize:10,categoryList:[],cascaderList:[],checkedKeys:[],loading:!1,sels:[]}},created:function(){this.init()},components:{OrderDetail:t("1Jne").a},methods:{init:function(){this.getUsers(),this.getCategorys()},handleChange:function(){},formatCreateTime:function(e){return this._formatTime(e.createTime)},clearFilter:function(){this.filters={productCode:"",categoryStoreType:"",categoryOptions:[]}},queryData:function(){this.pageNum=1,this.getUsers()},handleCurrentChange:function(e){this.pageNum=e,this.getUsers()},getUsers:function(){var e=this,n={pageNum:this.pageNum,pageSize:this.pageSize,userId:1,orderByUpdateTime:!0,productCode:this.filters.productCode,categoryStoreType:this.filters.categoryStoreType};this.loading=!0,1===this.filters.categoryStoreType&&this.filters.categoryOptions&&this.filters.categoryOptions.length&&(n.categoryStoreId=this.filters.categoryOptions[this.filters.categoryOptions.length-1]),this.$postJson(this._basePath.ajaxSelfDefineCategory,n).then(function(n){if(e.loading=!1,n.success){e.total=n.data.count;var t=n.data.datas;t.forEach(function(e){e.codeEdit=!1,e.priceEdit=!1,e.storeEdit=!1}),e.users=t}})},selectChange:function(){1!==this.filters.categoryStoreType&&(this.filters.categoryOptions=null)},showDialog:function(e){this.dialogVisible=!0,e?(this.sels=[e.id],this.checkedKeys=this.getCheckedIds(e.categoryStoreVos)):this.checkedKeys=[]},getCategorys:function(){var e=this;this.$post(this._basePath.ajaxCategoryGetPage).then(function(n){if(n.success){var t=n.data;e.categoryList=e.formatData(t,!0),e.cascaderList=e.formatData(t)}})},getCheckedIds:function(e){return e?e.map(function(e){return e.id}):[]},formatSelectData:function(e){if(!e)return[];var n=[],t=function(t){if(0!==t.parentId){var o=e.find(function(e){return e.id===t.parentId});t.fullName=o.name+"/"+t.name,n.push(t)}else-1===e.findIndex(function(e){return e.parentId===t.id})&&(t.fullName=t.name,n.push(t))},o=!0,a=!1,r=void 0;try{for(var l,s=i()(e);!(o=(l=s.next()).done);o=!0){t(l.value)}}catch(e){a=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(a)throw r}}return n||[]},formatData:function(e,n){var t=this._deepCopy(e),o=function(e){var n=t.filter(function(n){return e.id===n.parentId}),o=!0,a=!1,r=void 0;try{for(var l,s=i()(n);!(o=(l=s.next()).done);o=!0){var c=l.value;e.children?e.children.push(c):e.children=[c],c.isDelete=!0}}catch(e){a=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(a)throw r}}},a=!0,r=!1,l=void 0;try{for(var s,c=i()(t);!(a=(s=c.next()).done);a=!0){o(s.value)}}catch(e){r=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(r)throw l}}for(var d=t.length-1;d>=0;d--)t[d].isDelete&&t.splice(d,1);return t},addCategory:function(){var e=this,n=this.$refs.tree.getCheckedKeys();this.$postJson(this._basePath.ajaxSetCategory,{productIdList:this.sels.toString(),idList:n.toString()}).then(function(n){n.success&&(e.$message({message:"添加成功",type:"success"}),e.getUsers()),e.dialogVisible=!1})},selsChange:function(e){this.sels=e.map(function(e){return e.id})},cancelDialog:function(){this.dialogVisible=!1,this.modifyVip=null}}}),l={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",{staticClass:"app-container",attrs:{id:"customerList"}},[t("div",[t("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[t("el-form",{attrs:{inline:!0,model:e.filters},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"商品编号"}},[t("el-input",{attrs:{size:"medium",placeholder:"请输入商品编号"},model:{value:e.filters.productCode,callback:function(n){e.$set(e.filters,"productCode",n)},expression:"filters.productCode"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商品分类"}},[t("el-select",{attrs:{size:"medium",placeholder:"请选择商品分类"},on:{change:e.selectChange},model:{value:e.filters.categoryStoreType,callback:function(n){e.$set(e.filters,"categoryStoreType",n)},expression:"filters.categoryStoreType"}},e._l(e.classifyList,function(e,n){return t("el-option",{key:n,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),1===e.filters.categoryStoreType?t("el-form-item",{attrs:{label:"宝贝类别"}},[t("el-cascader",{attrs:{options:e.cascaderList,props:e.cascaderProps,"expand-trigger":"hover",size:"medium"},model:{value:e.filters.categoryOptions,callback:function(n){e.$set(e.filters,"categoryOptions",n)},expression:"filters.categoryOptions"}})],1):e._e(),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.queryData}},[e._v("查询")]),e._v(" "),t("el-button",{attrs:{type:"text",plain:"",size:"medium"},on:{click:e.clearFilter}},[e._v("清空筛选条件")])],1)],1),e._v(" "),t("div",{staticClass:"process_btns"},[t("el-button",{attrs:{type:"primary",size:"medium",disabled:0===this.sels.length},on:{click:function(n){e.dialogVisible=!0}}},[e._v("批量设置分类")])],1)],1),e._v(" "),t("record-count",{attrs:{total:e.total}}),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.users,"highlight-current-row":""},on:{"selection-change":e.selsChange}},[t("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),t("el-table-column",{attrs:{prop:"productCode",label:"商品编号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"name",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("img",{staticStyle:{"max-width":"50px","max-height":"50px"},attrs:{src:e.row.imgUrl_main}})]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"title",label:"商品名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"detailAddress",label:"所属分类"},scopedSlots:e._u([{key:"default",fn:function(n){return[n.row.categoryStoreVos.length?t("el-popover",{attrs:{placement:"bottom-start",width:"100%",trigger:"click"}},[t("span",{staticClass:"cursor",attrs:{slot:"reference"},slot:"reference"},[t("span",[e._v(e._s(n.row.categoryStoreVos[0]&&n.row.categoryStoreVos[0].name))]),e._v(" "),t("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),t("ul",e._l(n.row.categoryStoreVos,function(n,o){return t("li",{key:o},[e._v(e._s(n&&n.name))])}))]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"phone",label:"创建时间",formatter:e.formatCreateTime}}),e._v(" "),t("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.showDialog(n.row)}}},[e._v("设置分类")])]}}])})],1),e._v(" "),t("div",{staticClass:"page_toolbar"},[t("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","page-size":e.pageSize,"current-page":e.pageNum,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"设置分类",visible:e.dialogVisible,width:"600px"},on:{"update:visible":function(n){e.dialogVisible=n}}},[e.dialogVisible?t("el-tree",{ref:"tree",attrs:{data:e.categoryList,"check-strictly":"","show-checkbox":"","default-expand-all":"","node-key":"id",props:e.defaultProps,"default-checked-keys":e.checkedKeys},on:{check:e.handleChange}}):e._e(),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{nativeOn:{click:function(n){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.addCategory}},[e._v("添加")])],1)],1)],1)},staticRenderFns:[]};var s=t("VU/8")(r,l,!1,function(e){t("1RVQ")},null,null);n.default=s.exports}});