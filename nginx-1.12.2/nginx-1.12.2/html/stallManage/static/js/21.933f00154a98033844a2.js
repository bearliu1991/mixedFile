webpackJsonp([21],{"0wDK":function(a,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n("Dd8w"),o=n.n(e),r={data:function(){return{drawerTitle:"",showDrawer:!1,drawerUsers:[],drawerPageNum:1,drawerPageSize:10,drawerTotal:0,users:[],pageNum:1,pageSize:10,total:0,curRow:{},sortOrder:{prop:"profitsTotalFee",order:"descending"},filters:{productCode:""}}},mounted:function(){this.getUsers(),this.queryData=this._debounce(this.queryData)},methods:{formatTime:function(a){return this._formatTime(a.createTime)},handleCurrentChange:function(a){this.pageNum=a,this.getUsers()},handleCurrentChangeDrawer:function(a){this.drawerPageNum=a,this.getDetails()},sortChange:function(a){this.sortOrder={prop:a.prop,order:a.order},this.getUsers()},showDetail:function(a){this.curRow=a,this.showDrawer=!0,this.drawerTitle="单款利润详情 ~ "+a.productCode,this.drawerPageNum=1,this.getDetails()},clearSearch:function(){this.filters={productCode:""}},queryData:function(){this.pageNum=1,this.getUsers()},getDetails:function(){var a=this,t={pageNum:this.drawerPageNum,pageSize:this.drawerPageSize},n=this.$refs.dateFilter.getParams();if(!n)return!1;t.startTime=n[0],t.endTime=n[1],t.productId=this.curRow.productId,this.$postJson(this._basePath.ajaxDailyProfitByPage,t).then(function(t){t.success&&(a.drawerTotal=t.data?t.data.count:0,a.drawerUsers=t.data?t.data.datas:[])})},getUsers:function(){var a=this,t={pageNum:this.pageNum,pageSize:this.pageSize},n=this.$refs.dateFilter.getParams();if(!n)return!1;t.startTime=n[0],t.endTime=n[1],t.sortord="ascending"===this.sortOrder.order?1:2,this.$postJson(this._basePath.ajaxGoodProfitByPage,o()({},t,this.filters)).then(function(t){t.success&&(a.total=t.data?t.data.count:0,a.users=t.data?t.data.datas:[])})}}},i={render:function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("section",{staticClass:"app-container",attrs:{id:"workList"}},[n("div",[n("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[n("el-form",{attrs:{inline:!0,model:a.filters},nativeOn:{submit:function(a){a.preventDefault()}}},[n("el-form-item",{attrs:{label:"商品货号"}},[n("el-input",{attrs:{placeholder:"商品货号"},model:{value:a.filters.productCode,callback:function(t){a.$set(a.filters,"productCode",t)},expression:"filters.productCode"}})],1),a._v(" "),n("el-form-item",{attrs:{label:"销售时间"}},[n("date-pick",{ref:"dateFilter",attrs:{isLimit:"",maxDays:366,size:"mini",defaultIndex:"30",showArr:["today","lastWeek","last30"]}})],1),a._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:a.queryData}},[a._v("查询")]),a._v(" "),n("el-button",{attrs:{type:"text"},on:{click:a.clearSearch}},[a._v("清空搜索")])],1)],1)],1),a._v(" "),n("record-count",{attrs:{total:a.total}}),a._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:a.users,"highlight-current-row":"",sortable:"custom","default-sort":a.sortOrder},on:{"sort-change":a.sortChange}},[n("el-table-column",{attrs:{prop:"imgUrl",label:"图片"},scopedSlots:a._u([{key:"default",fn:function(a){return[n("img",{staticStyle:{"max-width":"50px","max-height":"50px"},attrs:{src:a.row.imgUrl}})]}}])}),a._v(" "),n("el-table-column",{attrs:{prop:"productCode",label:"商品货号"}}),a._v(" "),n("el-table-column",{attrs:{prop:"profitsTotalFee",sortable:"","sort-orders":["ascending","descending"],label:"利润（元）"}}),a._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:a._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){a.showDetail(t.row)}}},[a._v("查看详情")])]}}])})],1),a._v(" "),n("Drawer",{attrs:{title:a.drawerTitle},model:{value:a.showDrawer,callback:function(t){a.showDrawer=t},expression:"showDrawer"}},[n("record-count",{attrs:{total:a.drawerTotal}}),a._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:a.drawerUsers,"highlight-current-row":""}},[n("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:a.formatTime}}),a._v(" "),n("el-table-column",{attrs:{prop:"totalNum",label:"数量"}}),a._v(" "),n("el-table-column",{attrs:{prop:"salesTotalFee",label:"收入（元）"}}),a._v(" "),n("el-table-column",{attrs:{prop:"costTotalFee",label:"成本（元）"}}),a._v(" "),n("el-table-column",{attrs:{prop:"profitsTotalFee",label:"利润（元）"}})],1),a._v(" "),n("div",{staticClass:"page_toolbar"},[n("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","current-page":a.drawerPageNum,"page-size":a.drawerPageSize,total:a.drawerTotal},on:{"current-change":a.handleCurrentChangeDrawer}})],1)],1),a._v(" "),n("div",{staticClass:"page_toolbar"},[n("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","current-page":a.pageNum,"page-size":a.pageSize,total:a.total},on:{"current-change":a.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var d=n("VU/8")(r,i,!1,function(a){n("9eBW")},"data-v-59b8ca71",null);t.default=d.exports},"9eBW":function(a,t,n){var e=n("jJkT");"string"==typeof e&&(e=[[a.i,e,""]]),e.locals&&(a.exports=e.locals);n("rjj0")("4defece2",e,!0)},jJkT:function(a,t,n){(a.exports=n("FZ+f")(!1)).push([a.i,"\n.fn10[data-v-59b8ca71] {\n  font-size: 10px;\n}\n.fn12[data-v-59b8ca71] {\n  font-size: 12px;\n}\n.fn14[data-v-59b8ca71] {\n  font-size: 14px;\n}\n.fn16[data-v-59b8ca71] {\n  font-size: 16px;\n}\n.fn18[data-v-59b8ca71] {\n  font-size: 18px;\n}\n.fn20[data-v-59b8ca71] {\n  font-size: 20px;\n}\n.fn22[data-v-59b8ca71] {\n  font-size: 22px;\n}\n.fn24[data-v-59b8ca71] {\n  font-size: 24px;\n}\n.fn26[data-v-59b8ca71] {\n  font-size: 26px;\n}\n.fn28[data-v-59b8ca71] {\n  font-size: 28px;\n}\n.fn30[data-v-59b8ca71] {\n  font-size: 30px;\n}\n.fn32[data-v-59b8ca71] {\n  font-size: 32px;\n}\n.cursor[data-v-59b8ca71] {\n  cursor: pointer;\n}\n.fl[data-v-59b8ca71] {\n  float: left;\n}\n.fr[data-v-59b8ca71] {\n  float: right;\n}\n.title_public[data-v-59b8ca71] {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color[data-v-59b8ca71] {\n  color: #409eff;\n}\n.light_color[data-v-59b8ca71] {\n  color: #e3e4e6;\n}\n.err_color[data-v-59b8ca71] {\n  color: #f56c6c;\n}\n.suc_color[data-v-59b8ca71] {\n  color: #09bb07;\n}\n.center[data-v-59b8ca71] {\n  text-align: center;\n}\n.set_middle[data-v-59b8ca71] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start[data-v-59b8ca71] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between[data-v-59b8ca71] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around[data-v-59b8ca71] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column[data-v-59b8ca71] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar[data-v-59b8ca71] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records[data-v-59b8ca71] {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records[data-v-59b8ca71]:before {\n  display: table;\n  content: '';\n}\n.table_records i[data-v-59b8ca71] {\n  color: #409eff;\n}\n.el-pagination .btn-prev[data-v-59b8ca71],\n.el-pagination .btn-next[data-v-59b8ca71] {\n  padding: 0 12px !important;\n}\n.secondary_form[data-v-59b8ca71] {\n  width: 500px;\n}\n.secondary_form .el-cascader[data-v-59b8ca71] {\n  width: 100%;\n}\n.boxshadow[data-v-59b8ca71] {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form[data-v-59b8ca71] {\n  width: 500px;\n}\n.block[data-v-59b8ca71] {\n  display: block;\n}\n.indent[data-v-59b8ca71] {\n  text-indent: 30px;\n}\n.dotted_line[data-v-59b8ca71] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item[data-v-59b8ca71] {\n  font-weight: bold;\n}\n.bold[data-v-59b8ca71] {\n  font-weight: bold;\n}\n.process_btns[data-v-59b8ca71] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_[data-v-59b8ca71] {\n  border: 1px solid #ddd;\n}\n.line_through[data-v-59b8ca71] {\n  text-decoration: line-through;\n}\n#app .el-badge__content[data-v-59b8ca71] {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label[data-v-59b8ca71] {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed[data-v-59b8ca71] {\n  z-index: 99;\n}\nhtml[data-v-59b8ca71],\nbody[data-v-59b8ca71],\ndiv[data-v-59b8ca71],\nspan[data-v-59b8ca71],\niframe[data-v-59b8ca71],\nh1[data-v-59b8ca71],\nh2[data-v-59b8ca71],\nh3[data-v-59b8ca71],\nh4[data-v-59b8ca71],\nh5[data-v-59b8ca71],\nh6[data-v-59b8ca71],\np[data-v-59b8ca71],\npre[data-v-59b8ca71],\na[data-v-59b8ca71],\nem[data-v-59b8ca71],\nimg[data-v-59b8ca71],\ni[data-v-59b8ca71],\nol[data-v-59b8ca71],\nul[data-v-59b8ca71],\nfieldset[data-v-59b8ca71],\nform[data-v-59b8ca71],\nlabel[data-v-59b8ca71],\ntable[data-v-59b8ca71],\ntbody[data-v-59b8ca71],\ntfoot[data-v-59b8ca71],\nthead[data-v-59b8ca71],\ntr[data-v-59b8ca71],\nth[data-v-59b8ca71],\ntd[data-v-59b8ca71],\ncanvas[data-v-59b8ca71],\nfooter[data-v-59b8ca71],\nheader[data-v-59b8ca71],\nsection[data-v-59b8ca71],\naudio[data-v-59b8ca71],\nvideo[data-v-59b8ca71] {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli[data-v-59b8ca71] {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle[data-v-59b8ca71],\naside[data-v-59b8ca71],\ndetails[data-v-59b8ca71],\nfigcaption[data-v-59b8ca71],\nfigure[data-v-59b8ca71],\nfooter[data-v-59b8ca71],\nheader[data-v-59b8ca71],\nhgroup[data-v-59b8ca71],\nmenu[data-v-59b8ca71],\nnav[data-v-59b8ca71],\nsection[data-v-59b8ca71] {\n  display: block;\n}\nol[data-v-59b8ca71],\nul[data-v-59b8ca71] {\n  list-style: none;\n}\ninput[data-v-59b8ca71],\nbutton[data-v-59b8ca71],\nselect[data-v-59b8ca71],\ntextarea[data-v-59b8ca71] {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote[data-v-59b8ca71],\nq[data-v-59b8ca71] {\n  quotes: none;\n}\nblockquote[data-v-59b8ca71]:before,\nblockquote[data-v-59b8ca71]:after,\nq[data-v-59b8ca71]:before,\nq[data-v-59b8ca71]:after {\n  content: '';\n  content: none;\n}\ntable[data-v-59b8ca71] {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody[data-v-59b8ca71],\nhtml[data-v-59b8ca71] {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni[data-v-59b8ca71] {\n  font-style: normal;\n}\n.err_color[data-v-59b8ca71] {\n  color: #f56c6c;\n}\n.success_color[data-v-59b8ca71] {\n  color: #67c23a;\n}\n.warn_color[data-v-59b8ca71] {\n  color: #e6a23c;\n}\n.light_color[data-v-59b8ca71] {\n  color: #909399;\n}\n.info_color[data-v-59b8ca71] {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+n("41FU")+") ;\n  src: url("+n("41FU")+"#iefix) format('embedded-opentype'), url("+n("AmmJ")+") format('woff'), url("+n("gjvD")+") format('truetype'), url("+n("xCPn")+"#iconfont) format('svg') ;\n}\n.icon[data-v-59b8ca71] {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#workList .el-row[data-v-59b8ca71] {\n  margin-bottom: 10px;\n}\n#workList .mt20[data-v-59b8ca71] {\n  margin-bottom: 20px;\n}\n#workList .toolbar_process[data-v-59b8ca71] {\n  margin-top: 20px;\n}\n#workList .order_detail[data-v-59b8ca71] {\n  border: 1px solid #ddd;\n  padding: 20px;\n  height: 200px;\n  overflow-y: auto;\n}\n#workList .order_detail li[data-v-59b8ca71] {\n  height: 24px;\n  line-height: 24px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#workList .order_detail li span[data-v-59b8ca71] {\n  width: 150px;\n  color: #409eff;\n  cursor: pointer;\n}\n",""])}});