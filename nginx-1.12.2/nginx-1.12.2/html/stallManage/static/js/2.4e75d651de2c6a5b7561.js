webpackJsonp([2],{"+BA1":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+e("41FU")+") ;\n  src: url("+e("41FU")+"#iefix) format('embedded-opentype'), url("+e("AmmJ")+") format('woff'), url("+e("gjvD")+") format('truetype'), url("+e("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#reconciliation .editable_div .fn20 {\n  color: #409eff !important;\n}\n#reconciliation .editable_div .el-textarea {\n  height: 100%;\n}\n#reconciliation .editable_div .el-textarea textarea {\n  height: 100%;\n}\n#reconciliation .el-table .el-form-item {\n  margin-bottom: 0;\n}\n#reconciliation .el-table thead.is-group th {\n  background-color: #fff;\n}\n#reconciliation .el-form-item__error {\n  left: 30px;\n}\n",""])},"+h8a":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+e("41FU")+") ;\n  src: url("+e("41FU")+"#iefix) format('embedded-opentype'), url("+e("AmmJ")+") format('woff'), url("+e("gjvD")+") format('truetype'), url("+e("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#hang_bill .el-table .cell {\n  overflow: visible !important;\n}\n#hang_bill .editable_div {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#hang_bill .editable_div .el-input {\n  width: 100px;\n}\n#hang_bill .editable_div i {\n  margin-left: 5px;\n  color: #409eff;\n}\n#hang_bill .editable_div .el-form-item {\n  margin-bottom: 0;\n}\n#hang_bill .switch_header {\n  margin-bottom: 20px;\n}\n#hang_bill .switch_tabs .el-tabs__item {\n  font-size: 16px;\n}\n#hang_bill .el-tabs__content {\n  padding: 0;\n}\n",""])},"+pJh":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("woOf"),o=e.n(a),i=e("Dd8w"),s=e.n(i),r=e("1Jne"),l={data:function(){return{loading:!1,reset:!1,users:[],info:{},settleStatus:"0",showDrawer:!1,details:{},sels:[],filters:{orderCode:""},pageNum:1,pageSize:10,total:0}},props:{curItem:{type:Object,default:function(){}}},watch:{settleStatus:function(){"0"===this.settleStatus&&this.getHangupInfo()}},components:{OrderDetail:r.a},mounted:function(){this.getUsers(),this.getHangupInfo()},methods:{queryData:function(){this.pageNum=1,this.getUsers()},formatTime:function(n){return this._formatTime(n.createTime,!0)},formatStatus:function(n,t){var e=n.status;return t?-1===e?"warn_color":0===e?"warn_color":1===e?"":2===e?"err_color":3===e?"":4===e?"text_color":5===e?"text_color":6===e?"":7===e?"success_color":8===e?"err_color":9===e?"err_color":10===e?"err_color":"—":-1===e?"订单异常":0===e?"待确认":1===e?"已确认":2===e?"订单驳回":3===e?"待付款":4===e?"待出货":5===e?"待发货":6===e?"待签收":7===e?"交易完成":8===e?"交易关闭-档口退单":9===e?"交易关闭-交易超时":10===e?"交易关闭-订单作废":"—"},getDetail:function(n,t){var e=this;this.showDrawer=!0,this.$postJson(this._basePath.ajaxOrderById,{orderCode:n.orderCode}).then(function(n){n.success&&(e.details=n.data||{},e.drawerDetail=n.data||{})})},clearSearch:function(){this.reset=!0},selsChange:function(n){this.sels=n},handleCurrentChange:function(n){this.pageNum=n,this.getUsers()},switchChange:function(n){var t=this,e=n?[n.orderCode]:this.sels.map(function(n){return n.orderCode}),a={orderCodeList:e.toString(),vipCustId:this.curItem.id};if(!n&&e.length||0===n.settleStatus){var o=this;this.$confirm("确定该客户已结账？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.settleStatus=1,t.$postJson(t._basePath.ajaxStallCustomerBatchEnable,a).then(function(n){n.success&&(t.$message.success("状态修改成功！"),o.getUsers(!0),t.getHangupInfo())})})}else 1===n.settleStatus&&this.$confirm("将结账状态设为未结账？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.settleStatus=0,t.$postJson(t._basePath.ajaxStallCustomerBatchEnable,a).then(function(n){n.success&&(t.$message.success("状态修改成功！"),t.getUsers(!0))})})},getHangupInfo:function(){var n=this,t={customerId:this.curItem.id,settleStatus:this.settleStatus-0},e=this.$refs.dateFilter&&this.$refs.dateFilter.getParams();this.$set(this.filters,"startTime",e[0]),this.$set(this.filters,"endTime",e[1]),this.$postJson(this._basePath.ajaxVipHangupDebt,s()({},t,this.filters)).then(function(t){t.success&&(n.info=t.data)})},getUsers:function(n){var t=this,e={pageNum:this.pageNum,pageSize:this.pageSize,customerId:this.curItem.id,settleStatus:this.settleStatus-0},a=this.$refs.dateFilter&&this.$refs.dateFilter.getParams();this.$set(this.filters,"startTime",a[0]),this.$set(this.filters,"endTime",a[1]),this.$postJson(this._basePath.ajaxVipHangupBill,s()({},e,this.filters)).then(function(n){t.loading=!1,n.success&&(t.total=n.data.count,t.users=n.data.datas)})}}},c={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("section",{staticClass:"app-container",attrs:{id:"hang_bill"}},[e("div",{staticClass:"switch_header"},[e("el-tabs",{staticClass:"switch_tabs",on:{"tab-click":n.queryData},model:{value:n.settleStatus,callback:function(t){n.settleStatus=t},expression:"settleStatus"}},[e("el-tab-pane",{attrs:{label:"未结账",name:"0"}}),n._v(" "),e("el-tab-pane",{attrs:{label:"已结账",name:"1"}})],1)],1),n._v(" "),e("div",[e("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[e("el-form",{attrs:{inline:!0,model:n.filters},nativeOn:{submit:function(n){n.preventDefault()}}},[e("el-form-item",{attrs:{label:"查询"}},[e("el-input",{attrs:{placeholder:"订单编号"},model:{value:n.filters.orderCode,callback:function(t){n.$set(n.filters,"orderCode",t)},expression:"filters.orderCode"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"开单时间"}},[e("date-pick",{ref:"dateFilter",model:{value:n.reset,callback:function(t){n.reset=t},expression:"reset"}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:n.queryData}},[n._v("查询")]),n._v(" "),e("el-button",{attrs:{type:"text"},on:{":click":n.clearSearch}},[n._v("清空筛选条件")])],1)],1),n._v(" "),e("div",{staticClass:"process_btns"},["0"===n.settleStatus?e("el-button",{attrs:{type:"primary",disabled:0===this.sels.length},on:{click:function(t){n.switchChange()}}},[n._v("批量设为已结账")]):n._e()],1)],1),n._v(" "),e("record-count",{attrs:{total:n.total}},["0"===n.settleStatus?[n._v("挂账金额： "),e("h3",{staticClass:"err_color"},[n._v("￥"+n._s(n.info&&n.info.totalDebt||0))])]:n._e()],2),n._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:n.users,"highlight-current-row":""},on:{"selection-change":n.selsChange}},[e("el-table-column",{attrs:{type:"selection",width:"45"}}),n._v(" "),e("el-table-column",{attrs:{label:"VIP客户订单编号",prop:"orderCode",width:"180px"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){n.getDetail(t.row)}}},[n._v(n._s(t.row.orderCode))])]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"开单时间",prop:"createTime",formatter:n.formatTime}}),n._v(" "),e("el-table-column",{attrs:{label:"应收金额",prop:"shouldFee"}}),n._v(" "),e("el-table-column",{attrs:{label:"订单状态",prop:"status"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{class:[n.formatStatus(t.row,!0)]},[n._v(n._s(n.formatStatus(t.row)))])]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"是否结账",prop:"settleStatus"},scopedSlots:n._u([{key:"default",fn:function(t){return[2===t.row.settleType?e("span",{class:[0===t.row.settleStatus?"err_color":"success_color"],staticStyle:{"margin-right":"10px"}},[n._v(n._s(0===t.row.settleStatus?"否":"是"))]):n._e(),n._v(" "),1===t.row.settleType?e("span",{staticClass:"success_color",staticStyle:{"margin-right":"10px"}},[n._v("是")]):n._e()]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("div",{staticClass:"process_td"},[[0===t.row.settleStatus?e("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(e){n.switchChange(t.row)}}},[n._v("设为已结账")]):n._e(),n._v(" "),1===t.row.settleStatus?e("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(e){n.switchChange(t.row)}}},[n._v("设为未结账")]):n._e()]],2)]}}])})],1),n._v(" "),e("Drawer",{attrs:{minWidth:"750px",title:"订单详情"},model:{value:n.showDrawer,callback:function(t){n.showDrawer=t},expression:"showDrawer"}},[e("OrderDetail",{attrs:{details:n.details}})],1),n._v(" "),e("div",{staticClass:"page_toolbar"},[e("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","page-size":n.pageSize,"current-page":n.pageNum,total:n.total},on:{"current-change":n.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var d=e("VU/8")(l,c,!1,function(n){e("cuM3")},null,null).exports,f={data:function(){return{users:[],total:0,pageNum:1,pageSize:10,filters:{productCode:"",title:""}}},props:["curCustomer"],mounted:function(){this.getUsers()},methods:{handleCurrentChange:function(n){this.pageNum=n,this.getUsers()},clearSearch:function(){this.filters={productCode:"",title:""}},editCode:function(n){this.$set(n,"originRemarks",n.remarks),this.$set(n,"codeEdit",!0)},handlePartSave:function(n,t,e){var a=this;this.$refs[t+e].validate(function(t){if(t){var e={productId:n.productId,remarks:n.remarks,vipCustomerId:a.curCustomer.id};a.$postJson(a._basePath.ajaxVipGoodBuyRemark,e).then(function(n){n.success&&(a.$message({type:"success",message:"保存成功"}),a.getUsers())})}})},cancelEdit:function(n){this.$set(n,"remarks",n.originRemarks),this.$set(n,"codeEdit",!1)},queryData:function(){this.pageNum=1,this.getUsers()},codeLimit:function(n,t,e){t&&t.length>200?e(new Error(n.message)):e()},getUsers:function(){var n=this,t={pageNum:this.pageNum,pageSize:this.pageSize,stallVipUserId:this.curCustomer.id},e=this.$refs.dateFilter.getParams();if(!e)return!1;t.startTime=e[0],t.endTime=e[1],this.$postJson(this._basePath.ajaxVipBoughtGoods,s()({},t,this.filters)).then(function(t){t.success&&(n.total=t.data.count,n.users=t.data.datas)})}}},p={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("section",{staticClass:"app-container",attrs:{id:"workList"}},[e("div",[e("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[e("el-form",{attrs:{inline:!0},nativeOn:{submit:function(n){n.preventDefault()}}},[e("el-form-item",{attrs:{label:"商品货号"}},[e("el-input",{attrs:{placeholder:"商品货号"},model:{value:n.filters.productCode,callback:function(t){n.$set(n.filters,"productCode",t)},expression:"filters.productCode"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"销售时间"}},[e("date-pick",{ref:"dateFilter",attrs:{isLimit:"",maxDays:366,size:"mini",defaultIndex:"30",showArr:["today","lastWeek","last30"]}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:n.queryData}},[n._v("查询")]),n._v(" "),e("el-button",{attrs:{type:"text"},on:{click:n.clearSearch}},[n._v("清空搜索")])],1)],1)],1),n._v(" "),e("record-count",{attrs:{total:n.total}}),n._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:n.users,"highlight-current-row":""}},[e("el-table-column",{attrs:{prop:"productCode",label:"商品货号"}}),n._v(" "),e("el-table-column",{attrs:{prop:"salesNum",label:"销售量"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{staticClass:"bold err_color"},[n._v(n._s(t.row.salesNum))])]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"salesTotalFee","min-width":"200px",label:"销售金额(不包含减免金额)"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{staticClass:"bold err_color"},[n._v(n._s(t.row.salesTotalFee))])]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"returnNum",label:"退货量"}}),n._v(" "),e("el-table-column",{attrs:{prop:"returnTotalFee","min-width":"200px",label:"退货金额(不包含减免金额)"}}),n._v(" "),e("el-table-column",{attrs:{prop:"remarks","min-width":"200px",label:"备注"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("div",{staticClass:"editable_div"},[t.row.codeEdit?e("el-form",{ref:"remarks"+t.$index,attrs:{model:t.row}},[e("el-form-item",{attrs:{prop:"remarks",rules:[{required:!0,validator:n.codeLimit,message:"不大于200个字符",trigger:"blur"}]}},[t.row.codeEdit?e("el-input",{attrs:{size:"mini",type:"textarea"},model:{value:t.row.remarks,callback:function(e){n.$set(t.row,"remarks",e)},expression:"scope.row.remarks"}}):n._e()],1)],1):e("div",{domProps:{innerHTML:n._s(t.row.remarks&&t.row.remarks.replace(/\n/g,"<br>"))}}),n._v(" "),t.row.codeEdit?n._e():e("i",{staticClass:"icon cursor fn20",on:{click:function(e){n.editCode(t.row)}}},[n._v("")]),n._v(" "),t.row.codeEdit?e("i",{staticClass:"icon cursor fn20",on:{click:function(e){n.handlePartSave(t.row,"remarks",t.$index)}}},[n._v("")]):n._e(),n._v(" "),t.row.codeEdit?e("i",{staticClass:"icon cursor",staticStyle:{"font-size":"22px"},on:{click:function(e){n.cancelEdit(t.row,"remarks")}}},[n._v("")]):n._e()],1)]}}])})],1),n._v(" "),e("div",{staticClass:"page_toolbar"},[e("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","current-page":n.pageNum,"page-size":n.pageSize,total:n.total},on:{"current-change":n.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var u=e("VU/8")(f,p,!1,function(n){e("FCJO")},null,null).exports,b=e("qWrO"),m={name:"",data:function(){return{dateMaxDays:366,loading:!1,salesAmount:"VIP客户订单销售金额，若VIP客户订单退单后将不统计入内",retreatAmount:"退货金额只包含VIP快捷退货的金额，若快捷退货单作废后将不统计入内",debtAmount:"当日欠款 = 挂账 - 退货金额",users:[],sels:[],pageNum:1,pageSize:10,total:0,summaryObj:{}}},props:{curItem:{type:Object,default:function(){}}},mounted:function(){this.getUsers(),this.queryData=this._debounce(this.queryData),this.handlePartSave=this._debounce(this.handlePartSave)},components:{},methods:{formatTime:function(n){return this._formatTime(n.day)},queryData:function(){this.pageNum=1,this.getUsers()},editCode:function(n){this.$set(n,"codeEdit",!0)},getSumary:function(){var n=this;this.dateMaxDays=366,this.$nextTick(function(){var t=n.$refs.dateFilter.getParams();if(!t)return!1;var e=t[0],a=t[1],o={password:"sunking098",stallId:n.getCookie("stallId")-0,vipCustId:n.curItem.id};a&&(o.startTime=e,o.endTime=a,n.$postJson(n._basePath.ajaxVipReconciliationSummary,o).then(function(t){t.success&&t.data&&(n.summaryObj=t.data)}))})},handlePartSave:function(n,t){var e=this;this.$refs["remark"+n].validate(function(n){if(n){var a={vipBillId:t.id,remarks:t.remarks};e.$postJson(e._basePath.ajaxReconciliationSaveRemark,a).then(function(n){n.success&&(e.$message({type:"success",message:"修改成功"}),e.$set(t,"codeEdit",!1))})}})},handleSizeChange:function(n){this.pageNum=1,this.pageSize=n,this.getUsers()},handleCurrentChange:function(n){this.pageNum=n,this.getUsers()},selsChange:function(n){this.sels=n},downFile:function(n,t){var e=document.getElementById("tag");e.download=t;var a=new Blob([n]),o=window.URL.createObjectURL(a);e.href=n,e.click(),window.URL.revokeObjectURL(o)},downloadExcel:function(){var n=this;this.dateMaxDays=92,this.$nextTick(function(){var t=n.$refs.dateFilter.getParams();if(!t)return!1;var e={stallId:n.getCookie("stallId")-0,custId:n.curItem.id};e.startTime=n._formatTime(t[0]),e.endTime=n._formatTime(t[1]),n.$postJson(n._basePath.ajaxReconciliationVerify,e).then(function(t){t.success&&(e.token=t.data.token,n.downFile(n._basePath.ajaxReconciliationDownload+"?"+n.serializeParam(e),t.data.fileName))})})},getUsers:function(){var n=this,t={pageNum:this.pageNum,pageSize:this.pageSize,custId:this.curItem.id};this.dateMaxDays=366,this.$nextTick(function(){var e=n.$refs.dateFilter&&n.$refs.dateFilter.getParams();if(!e)return!1;t.startTime=e[0],t.endTime=e[1],n.$postJson(n._basePath.ajaxReconciliationByPage,s()({},t)).then(function(t){n.loading=!1,t.success&&(n.total=t.data.count,n.users=t.data.datas)})})}}},x={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("section",{staticClass:"app-container",attrs:{id:"reconciliation"}},[e("a",{staticStyle:{visibility:"hidden"},attrs:{id:"tag",href:"",download:""}}),n._v(" "),e("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[e("el-form",{attrs:{inline:!0},nativeOn:{submit:function(n){n.preventDefault()}}},[e("el-form-item",{attrs:{label:"时间"}},[e("date-pick",{ref:"dateFilter",attrs:{showBtn:!1,isLimit:"",maxDays:n.dateMaxDays,size:"mini",defaultIndex:"curMonth",showArr:["curMonth"],startTimeLimit:"2019-10-15"}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:n.queryData}},[n._v("查询")]),n._v(" "),e("el-button",{attrs:{type:"danger"},on:{click:n.downloadExcel}},[n._v("导出对账单")])],1)],1)],1),n._v(" "),e("record-count",{attrs:{total:n.total}}),n._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:n.users,border:!1,"highlight-current-row":""},on:{"selection-change":n.selsChange}},[e("el-table-column",{attrs:{label:"日期",prop:"orderCode",formatter:n.formatTime}}),n._v(" "),e("el-table-column",{attrs:{label:"销售","header-align":"center"}},[e("el-table-column",{attrs:{label:"销售数量",prop:"salesCount"}}),n._v(" "),e("el-table-column",{attrs:{label:"销售金额(元)",prop:"salesAmount"},scopedSlots:n._u([{key:"header",fn:function(t){return[e("span",[n._v("销售金额(元)")]),n._v(" "),e("el-tooltip",{attrs:{content:n.salesAmount,placement:"top","open-delay":300}},[e("i",{staticClass:"icon fn18"},[n._v("")])])]}},{key:"default",fn:function(t){return[n._v(n._s(t.row.salesAmount))]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"挂账(销售)",prop:"salesCreditAmount"}}),n._v(" "),e("el-table-column",{attrs:{label:"现结(销售)",prop:"salesSettledAmount"}})],1),n._v(" "),e("el-table-column",{attrs:{label:"退货","header-align":"center"}},[e("el-table-column",{attrs:{label:"退货数量",prop:"returnCount"}}),n._v(" "),e("el-table-column",{attrs:{label:"退货金额(元)",prop:"returnAmount"},scopedSlots:n._u([{key:"header",fn:function(t){return[e("span",[n._v("退货金额(元)")]),n._v(" "),e("el-tooltip",{attrs:{content:n.retreatAmount,placement:"top","open-delay":300}},[e("i",{staticClass:"icon fn18"},[n._v("")])])]}},{key:"default",fn:function(t){return[n._v(n._s(t.row.returnAmount))]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"挂账(退货)",prop:"returnCreditAmount"}}),n._v(" "),e("el-table-column",{attrs:{label:"现结(退货)",prop:"returnSettledAmount"}})],1),n._v(" "),e("el-table-column",{attrs:{label:"当日欠款",prop:"finalCreditAmount"},scopedSlots:n._u([{key:"header",fn:function(t){return[e("span",[n._v("当日欠款(元)")]),n._v(" "),e("el-tooltip",{attrs:{content:n.debtAmount,placement:"top","open-delay":300}},[e("i",{staticClass:"icon fn18"},[n._v("")])])]}},{key:"default",fn:function(t){return[n._v(n._s(t.row.finalCreditAmount))]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"备注"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("div",{staticClass:"editable_div"},[t.row.codeEdit?e("el-form",{ref:"remark"+t.$index,attrs:{model:t.row}},[e("el-form-item",{attrs:{prop:"remarks"}},[t.row.codeEdit?e("el-input",{attrs:{type:"textarea",size:"mini"},model:{value:t.row.remarks,callback:function(e){n.$set(t.row,"remarks",e)},expression:"scope.row.remarks"}}):n._e()],1)],1):e("div",[n._v(n._s(t.row.remarks))]),n._v(" "),t.row.codeEdit?n._e():e("i",{staticClass:"icon cursor fn20",on:{click:function(e){n.editCode(t.row)}}},[n._v("")]),n._v(" "),t.row.codeEdit?e("i",{staticClass:"icon cursor fn20",on:{click:function(e){n.handlePartSave(t.$index,t.row)}}},[n._v("")]):n._e()],1)]}}])})],1),n._v(" "),e("div",{staticClass:"page_toolbar"},[e("el-pagination",{attrs:{layout:"prev, pager, next,  jumper, sizes, total","prev-text":"上一页","next-text":"下一页",background:"","current-page":n.pageNum,"page-sizes":[10,20,30,50],"page-size":n.pageSize,total:n.total},on:{"current-change":n.handleCurrentChange,"size-change":n.handleSizeChange}})],1)],1)},staticRenderFns:[]};var h={data:function(){return{secShow:!1,goodsBuySecShow:!1,title:"",vipSecShow:!1,dialogShow:!1,dialogStatus:"",curRow:{},curItem:{},textMap:{update:"编辑VIP客户",create:"新增VIP客户"},filters:{keyword:""},users:[],sels:[],total:0,pageNum:1,pageSize:10,editFormRules:{userName:[{required:!0,validator:this.noEmpty,message:"请输入用户名",trigger:"blur"},{required:!0,validator:this.lessThen,message:"用户名不超过15个字符",trigger:"blur"}],phone:[{required:!0,validator:this.mobileReg,message:"手机号格式有误",trigger:"blur"}],remarks:[{validator:this.lessThen50,message:"备注内容不超过50个字符",trigger:"blur"}]},editForm:{userName:"",phone:"",creditStatus:"off",status:"on",remarks:""}}},created:function(){this.getUsers(),this.queryData=this._debounce(this.queryData),this.createData=this._debounce(this.createData),this.setCustomerStatus=this._debounce(this.setCustomerStatus)},components:{HangupBill:d,VipReconciliation:e("VU/8")(m,x,!1,function(n){e("uPkK")},null,null).exports,VipPrice:b.a,GoodsBuy:u},methods:{handleCurrentChange:function(n){this.pageNum=n,this.getUsers()},queryData:function(){this.pageNum=1,this.getUsers()},clearFilter:function(){this.filters={keyword:""}},showHangup:function(n){this.secShow=!0,this.curItem=n,this.title="挂账信息-"+n.userName},showReconciliation:function(n){this.secShow=!0,this.curItem=n,this.title="对账单-"+n.userName},goodsBuyClick:function(n){this.goodsBuySecShow=!0,this.curItem=n,this.title="商品购买量-"+n.userName},lessThen:function(n,t,e){t.length>15?e(new Error(n.message)):e()},lessThen50:function(n,t,e){this._isHasVal(t)&&t.length>50?e(new Error(n.message)):e()},openVipCustomer:function(n){this.vipSecShow=!0,this.curRow=n},getUsers:function(){var n=this,t={pageNum:this.pageNum,pageSize:this.pageSize,keyword:this.filters.keyword};this.$postJson(this._basePath.ajaxStallVipGetByPage,t).then(function(t){t.success&&(n.total=t.data.count,n.users=t.data.datas)})},handleEdit:function(n,t){var e=this;this.dialogStatus="update",this.dialogShow=!0,this.$nextTick(function(){e.$refs.editForm.resetFields(),e.editForm=o()({},t)})},handleAdd:function(){var n=this;this.dialogStatus="create",this.dialogShow=!0,this.$nextTick(function(){n.$refs.editForm.resetFields(),n.editForm={userName:"",remarks:"",phone:"",creditStatus:"off",status:"on"}})},createData:function(){var n=this;this.$refs.editForm.validate(function(t){if(t){var e=o()({},n.editForm);e.stallId=n.getCookie("stallId"),n.$post(n._basePath.ajaxStallVipSave,e).then(function(t){t.success&&(n.$message({message:"保存成功",type:"success"}),n.$refs.editForm.resetFields(),n.dialogShow=!1,n.getUsers())})}})},selsChange:function(n){this.sels=n},setCustomerStatus:function(n,t){var e=this;if("off"===t){var a=this;this.$confirm("确定禁用该客户吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$postJson(e._basePath.ajaxStallVipEnable,{id:n.id,status:"off"}).then(function(n){n.success&&(e.$message.success("禁用成功！"),a.getUsers())})})}else"on"===t&&this.$postJson(this._basePath.ajaxStallVipEnable,{id:n.id,status:"on"}).then(function(n){n.success&&(e.$message.success("启用成功！"),e.getUsers())})}}},g={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("section",{staticClass:"app-container",attrs:{id:"vip_custormer"}},[n.secShow||n.vipSecShow||n.goodsBuySecShow?n._e():e("div",[e("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[e("el-form",{attrs:{inline:!0,model:n.filters},nativeOn:{submit:function(n){n.preventDefault()}}},[e("el-form-item",{attrs:{label:"查询"}},[e("el-input",{attrs:{placeholder:"VIP客户名/手机号"},model:{value:n.filters.keyword,callback:function(t){n.$set(n.filters,"keyword",t)},expression:"filters.keyword"}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:n.queryData}},[n._v("查询")]),n._v(" "),e("el-button",{attrs:{type:"text",plain:""},on:{click:n.clearFilter}},[n._v("清空筛选条件")])],1)],1),n._v(" "),e("div",{staticClass:"process_btns"},[e("el-button",{attrs:{type:"primary"},on:{click:n.handleAdd}},[n._v("新增VIP客户")])],1)],1),n._v(" "),e("record-count",{attrs:{total:n.total}}),n._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:n.users,"highlight-current-row":""},on:{"selection-change":n.selsChange}},[e("el-table-column",{attrs:{prop:"userName",label:"VIP客户名"}}),n._v(" "),e("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),n._v(" "),e("el-table-column",{attrs:{prop:"phone",label:"挂账客户"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n            "+n._s("on"===t.row.creditStatus?"是":"否")+"\n          ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"status",label:"客户状态"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{class:["on"===t.row.status?"success_color":"err_color"]},[n._v(n._s("on"===t.row.status?"启用":"禁用"))])]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"remarks",label:"备注"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{domProps:{innerHTML:n._s(t.row.remarks&&t.row.remarks.replace(/\n/g,"<br>"))}})]}}])}),n._v(" "),e("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"460px"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){n.handleEdit(t.$index,t.row)}}},[n._v("编辑")]),n._v(" "),"off"===t.row.status?e("el-button",{attrs:{type:"success",size:"small",plain:""},on:{click:function(e){n.setCustomerStatus(t.row,"on")}}},[n._v("启用")]):n._e(),n._v(" "),"on"===t.row.status?e("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(e){n.setCustomerStatus(t.row,"off")}}},[n._v("禁用")]):n._e(),n._v(" "),e("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){n.goodsBuyClick(t.row)}}},[n._v("商品购买量")]),n._v(" "),e("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){n.showReconciliation(t.row)}}},[n._v("对账单")]),n._v(" "),e("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){n.openVipCustomer(t.row)}}},[n._v("编辑VIP价格")])]}}])})],1),n._v(" "),e("div",{staticClass:"page_toolbar"},[e("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","current-page":n.pageNum,"page-size":n.pageSize,total:n.total},on:{"current-change":n.handleCurrentChange}})],1)],1),n._v(" "),e("Secondary",{attrs:{title:"编辑VIP价格"},model:{value:n.vipSecShow,callback:function(t){n.vipSecShow=t},expression:"vipSecShow"}},[n.vipSecShow?e("VipPrice",{attrs:{curCustomer:n.curRow}}):n._e()],1),n._v(" "),e("secondary",{attrs:{title:n.title},model:{value:n.secShow,callback:function(t){n.secShow=t},expression:"secShow"}},[n.secShow?e("vip-reconciliation",{attrs:{curItem:n.curItem}}):n._e()],1),n._v(" "),e("Secondary",{attrs:{title:n.title},model:{value:n.goodsBuySecShow,callback:function(t){n.goodsBuySecShow=t},expression:"goodsBuySecShow"}},[n.goodsBuySecShow?e("GoodsBuy",{attrs:{curCustomer:n.curItem}}):n._e()],1),n._v(" "),e("el-dialog",{attrs:{title:n.textMap[n.dialogStatus],visible:n.dialogShow,width:"600px"},on:{"update:visible":function(t){n.dialogShow=t}}},[e("el-form",{ref:"editForm",staticStyle:{width:"60%",margin:"auto"},attrs:{model:n.editForm,"label-width":"120px",rules:n.editFormRules}},[e("el-form-item",{attrs:{label:"姓名",prop:"userName"}},[e("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:n.editForm.userName,callback:function(t){n.$set(n.editForm,"userName",t)},expression:"editForm.userName"}})],1),n._v(" "),e("el-form-item",{staticClass:"phone_input",attrs:{label:"手机号",prop:"phone"}},[e("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:n.editForm.phone,callback:function(t){n.$set(n.editForm,"phone",t)},expression:"editForm.phone"}})],1),n._v(" "),e("el-form-item",{staticClass:"textarea_input",attrs:{label:"备注",prop:"remarks"}},[e("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:n.editForm.remarks,callback:function(t){n.$set(n.editForm,"remarks",t)},expression:"editForm.remarks"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"是否为挂账客户"}},[e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"on","inactive-value":"off"},model:{value:n.editForm.creditStatus,callback:function(t){n.$set(n.editForm,"creditStatus",t)},expression:"editForm.creditStatus"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"客户状态"}},[e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"on","inactive-value":"off"},model:{value:n.editForm.status,callback:function(t){n.$set(n.editForm,"status",t)},expression:"editForm.status"}})],1)],1),n._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){n.dialogShow=!1}}},[n._v("取 消")]),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:n.createData}},[n._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var _=e("VU/8")(h,g,!1,function(n){e("umtj"),e("kZpY")},"data-v-46f3666c",null);t.default=_.exports},"0Pae":function(n,t,e){var a=e("+h8a");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("38d36399",a,!0)},FCJO:function(n,t,e){var a=e("g3U8");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("7dc9e43b",a,!0)},"JcB/":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n#vip_custormer .phone_input.el-form-item.is-required:not(.is-no-asterisk)>.el-form-item__label:before {\n  content: ''\n}\n#vip_custormer .el-dialog .el-textarea__inner{\n  height:100px\n}\n",""])},"P/iJ":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+e("41FU")+") ;\n  src: url("+e("41FU")+"#iefix) format('embedded-opentype'), url("+e("AmmJ")+") format('woff'), url("+e("gjvD")+") format('truetype'), url("+e("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#hang_bill .editable_div {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#hang_bill .editable_div i {\n  margin-left: 5px;\n  color: #409eff;\n}\n#hang_bill .editable_div .el-form-item {\n  margin-bottom: 0;\n}\n#hang_bill .switch_header {\n  margin-bottom: 20px;\n}\n#hang_bill .switch_tabs .el-tabs__item {\n  font-size: 16px;\n}\n#hang_bill .el-tabs__content {\n  padding: 0;\n}\n",""])},WKpp:function(n,t,e){var a=e("P/iJ");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("0da47f97",a,!0)},cuM3:function(n,t,e){var a=e("uuVB");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("641ff2ae",a,!0)},g3U8:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+e("41FU")+") ;\n  src: url("+e("41FU")+"#iefix) format('embedded-opentype'), url("+e("AmmJ")+") format('woff'), url("+e("gjvD")+") format('truetype'), url("+e("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#workList .el-table .cell {\n  overflow: visible;\n}\n#workList .editable_div {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#workList .editable_div i {\n  margin-left: 5px;\n}\n#workList .editable_div .el-form-item {\n  margin-bottom: 0;\n}\n#workList .editable_div .el-input {\n  max-width: 80px;\n}\n#workList .editable_div .el-form-item__error {\n  font-size: 12px;\n}\n#workList .fn20 {\n  font-size: 20px;\n  color: #409eff;\n}\n#workList .el-row {\n  margin-bottom: 10px;\n}\n#workList .mt20 {\n  margin-bottom: 20px;\n}\n#workList .toolbar_process {\n  margin-top: 20px;\n}\n#workList .order_detail {\n  border: 1px solid #ddd;\n  padding: 20px;\n  height: 200px;\n  overflow-y: auto;\n}\n#workList .order_detail li {\n  height: 24px;\n  line-height: 24px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#workList .order_detail li span {\n  width: 150px;\n  color: #409eff;\n  cursor: pointer;\n}\n",""])},kZpY:function(n,t,e){var a=e("vN+h");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("eb0044e0",a,!0)},qWrO:function(n,t,e){"use strict";var a=e("Dd8w"),o=e.n(a),i={data:function(){return{loading:!1,users:[],filters:{nameOrPhoneOrCode:""},curVip:{},pageNum:1,pageSize:10,total:0}},props:{curCustomer:{type:Object,default:function(){}}},created:function(){this.getUsers(),this.queryData=this._debounce(this.queryData)},methods:{queryData:function(){this.pageNum=1,this.getUsers()},clearSearch:function(){this.$set(this.filters,"nameOrPhoneOrCode","")},handleCurrentChange:function(n){this.pageNum=n,this.getUsers()},copyVipPrice:function(n){var t=this,e={userId:this.curCustomer.userId,stallVipUserId:n.userId};this.$postJson(this._basePath.ajaxCopyCustomerPrice,e).then(function(n){n.success&&(t.$message.success("复制价格成功"),t.$emit("close"))})},getUsers:function(){var n=this,t={pageNum:this.pageNum,pageSize:this.pageSize};this.loading=!0,this.$postJson(this._basePath.ajaxCustomerByPage,o()({},t,this.filters)).then(function(t){n.loading=!1,t.success&&(n.total=t.data?t.data.count:0,n.users=t.data?t.data.datas:[])})}}},s={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("section",{staticClass:"app-container",attrs:{id:"hang_bill"}},[e("div",[e("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[e("el-form",{attrs:{inline:!0,model:n.filters},nativeOn:{submit:function(n){n.preventDefault()}}},[e("el-form-item",{attrs:{label:"查询"}},[e("el-input",{attrs:{placeholder:"客户名/手机号"},model:{value:n.filters.nameOrPhoneOrCode,callback:function(t){n.$set(n.filters,"nameOrPhoneOrCode",t)},expression:"filters.nameOrPhoneOrCode"}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:n.queryData}},[n._v("查询")]),n._v(" "),e("el-button",{attrs:{type:"text"},on:{":click":n.clearSearch}},[n._v("清空筛选条件")])],1)],1)],1),n._v(" "),e("record-count",{attrs:{total:n.total}}),n._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:n.users,"highlight-current-row":""}},[e("el-table-column",{attrs:{prop:"name",label:"VIP客户名","min-width":"150"}}),n._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){n.copyVipPrice(t.row)}}},[n._v("复制")])]}}])})],1),n._v(" "),e("div",{staticClass:"page_toolbar"},[e("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","current-page":n.pageNum,"page-size":n.pageSize,total:n.total},on:{"current-change":n.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var r=e("VU/8")(i,s,!1,function(n){e("WKpp")},null,null).exports,l={data:function(){return{loading:!1,users:[],status:"0",showDrawer:!1,filters:{productCode:"",title:""},pageNum:1,pageSize:10,total:0}},props:{curCustomer:{type:Object,default:function(){}},type:{type:String,default:"cashier"}},components:{VipChoose:r},watch:{status:function(){this.queryData()}},created:function(){this.getUsers(),this.queryData=this._debounce(this.queryData),this.setPrice=this._debounce(this.setPrice)},methods:{queryData:function(){this.pageNum=1,this.getUsers()},setPrice:function(n,t){var e=this;this.$refs[t].validate(function(t){if(t){var a={price:n.price},o="";"cashier"===e.type?(a.stallVipUserId=e.curCustomer.id,o=e._basePath.ajaxStallVipPriceSave,a.productId=n.productId):(a.userId=e.curCustomer.id,o=e._basePath.ajaxVipPriceEdit,a.productId=n.id),"1"===e.status&&(a.productId=n.id),e.$postJson(o,a).then(function(n){n.success&&(e.$message({type:"success",message:"修改成功"}),e.status="0",e.queryData())})}})},cancelEdit:function(n,t){this.$set(n,"price",n.originPrice),this.$set(n,t,!1)},closeDrawer:function(){this.showDrawer=!1,this.status="0",this.queryData()},editCode:function(n){this.$set(n,"priceEdit",!0),this.$set(n,"originPrice",n.price)},clearSearch:function(){this.$set(this.filters,"productCode",""),this.$set(this.filters,"title","")},handleCurrentChange:function(n){this.pageNum=n,this.getUsers()},getUsers:function(){var n=this,t={pageNum:this.pageNum,pageSize:this.pageSize,productCode:this.filters.productCode,title:this.filters.title},e="";"1"===this.status?e=this._basePath.ajaxGoodByPage:"cashier"===this.type?(e=this._basePath.ajaxStallVipPriceByPage,t.stallVipUserId=this.curCustomer.id):(e=this._basePath.ajaxVipPriceSettledByPage,t.userId=this.curCustomer.userId),this.loading=!0,this.$postJson(e,t).then(function(t){n.loading=!1,t.success&&(n.total=t.data.count,n.users=t.data.datas)})}}},c={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("section",{staticClass:"app-container",attrs:{id:"hang_bill"}},[e("div",{staticClass:"switch_header"},[e("el-tabs",{staticClass:"switch_tabs",model:{value:n.status,callback:function(t){n.status=t},expression:"status"}},[e("el-tab-pane",{attrs:{label:"已设置VIP价格",name:"0"}}),n._v(" "),e("el-tab-pane",{attrs:{label:"全部",name:"1"}})],1)],1),n._v(" "),e("div",[e("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[e("el-form",{attrs:{inline:!0,model:n.filters},nativeOn:{submit:function(n){n.preventDefault()}}},[e("el-form-item",{attrs:{label:"商品货号"}},[e("el-input",{attrs:{placeholder:"请输入商品货号"},model:{value:n.filters.productCode,callback:function(t){n.$set(n.filters,"productCode",t)},expression:"filters.productCode"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"商品名称"}},[e("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:n.filters.title,callback:function(t){n.$set(n.filters,"title",t)},expression:"filters.title"}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:n.queryData}},[n._v("查询")]),n._v(" "),e("el-button",{attrs:{type:"text"},on:{click:n.clearSearch}},[n._v("清空筛选条件")])],1)],1),n._v(" "),"cashier"!==n.type?e("div",{staticClass:"process_btns"},[e("el-button",{attrs:{type:"primary"},on:{click:function(t){n.showDrawer=!0}}},[n._v("复制VIP客户价格模板")])],1):n._e()],1),n._v(" "),e("record-count",{attrs:{total:n.total}}),n._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:n.users,"highlight-current-row":""}},[e("el-table-column",{attrs:{prop:"imgUrl_main",label:"图片",width:"70px"},scopedSlots:n._u([{key:"default",fn:function(n){return[e("img",{staticStyle:{"max-width":"50px","max-height":"50px"},attrs:{src:n.row.imgUrl_main}})]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"title",label:"商品名称","min-width":"150"}}),n._v(" "),e("el-table-column",{attrs:{prop:"productCode",label:"商品货号","min-width":"110px"}}),n._v(" "),e("el-table-column",{attrs:{prop:"wholesalePrice",label:"批发价(元)",width:"200"}}),n._v(" "),e("el-table-column",{attrs:{label:"设置VIP价格(元)","min-width":"200px",fixed:"right"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("div",{staticClass:"editable_div"},[t.row.priceEdit?e("el-form",{ref:"vipPriceForm"+t.$index,attrs:{model:t.row}},[e("el-form-item",{attrs:{prop:"price",rules:[{validator:n.noEmpty,message:"VIP价格不能为空",trigger:"blur"},{validator:n._validPrice,message:"需为有效数字",trigger:"blur"}]}},[t.row.priceEdit?e("el-input",{attrs:{size:"mini"},model:{value:t.row.price,callback:function(e){n.$set(t.row,"price",e)},expression:"scope.row.price"}}):n._e()],1)],1):e("div",[n._v(n._s(t.row.price))]),n._v(" "),t.row.priceEdit?n._e():e("i",{staticClass:"icon cursor fn20",on:{click:function(e){n.editCode(t.row)}}},[n._v("")]),n._v(" "),t.row.priceEdit?e("i",{staticClass:"icon cursor fn20",on:{click:function(e){n.setPrice(t.row,"vipPriceForm"+t.$index)}}},[n._v("")]):n._e(),n._v(" "),t.row.priceEdit?e("i",{staticClass:"icon cursor",staticStyle:{"font-size":"18px",color:"#999"},on:{click:function(e){n.cancelEdit(t.row,"priceEdit")}}},[n._v("")]):n._e()],1)]}}])})],1),n._v(" "),e("div",{staticClass:"page_toolbar"},[e("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","current-page":n.pageNum,"page-size":n.pageSize,total:n.total},on:{"current-change":n.handleCurrentChange}})],1),n._v(" "),e("Drawer",{attrs:{minWidth:"750px",title:"复制VIP客户价格模板"},model:{value:n.showDrawer,callback:function(t){n.showDrawer=t},expression:"showDrawer"}},[e("VipChoose",{attrs:{curCustomer:n.curCustomer},on:{close:n.closeDrawer}})],1)],1)])},staticRenderFns:[]};var d=e("VU/8")(l,c,!1,function(n){e("0Pae")},null,null);t.a=d.exports},uPkK:function(n,t,e){var a=e("+BA1");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("cbbe06e6",a,!0)},umtj:function(n,t,e){var a=e("JcB/");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("5bacef22",a,!0)},uuVB:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+e("41FU")+") ;\n  src: url("+e("41FU")+"#iefix) format('embedded-opentype'), url("+e("AmmJ")+") format('woff'), url("+e("gjvD")+") format('truetype'), url("+e("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#hang_bill .switch_header {\n  margin-bottom: 20px;\n}\n#hang_bill .switch_tabs .el-tabs__item {\n  font-size: 16px;\n}\n#hang_bill .el-tabs__content {\n  padding: 0;\n}\n",""])},"vN+h":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.fn10[data-v-46f3666c] {\n  font-size: 10px;\n}\n.fn12[data-v-46f3666c] {\n  font-size: 12px;\n}\n.fn14[data-v-46f3666c] {\n  font-size: 14px;\n}\n.fn16[data-v-46f3666c] {\n  font-size: 16px;\n}\n.fn18[data-v-46f3666c] {\n  font-size: 18px;\n}\n.fn20[data-v-46f3666c] {\n  font-size: 20px;\n}\n.fn22[data-v-46f3666c] {\n  font-size: 22px;\n}\n.fn24[data-v-46f3666c] {\n  font-size: 24px;\n}\n.fn26[data-v-46f3666c] {\n  font-size: 26px;\n}\n.fn28[data-v-46f3666c] {\n  font-size: 28px;\n}\n.fn30[data-v-46f3666c] {\n  font-size: 30px;\n}\n.fn32[data-v-46f3666c] {\n  font-size: 32px;\n}\n.cursor[data-v-46f3666c] {\n  cursor: pointer;\n}\n.fl[data-v-46f3666c] {\n  float: left;\n}\n.fr[data-v-46f3666c] {\n  float: right;\n}\n.title_public[data-v-46f3666c] {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color[data-v-46f3666c] {\n  color: #409eff;\n}\n.light_color[data-v-46f3666c] {\n  color: #e3e4e6;\n}\n.err_color[data-v-46f3666c] {\n  color: #f56c6c;\n}\n.suc_color[data-v-46f3666c] {\n  color: #09bb07;\n}\n.center[data-v-46f3666c] {\n  text-align: center;\n}\n.set_middle[data-v-46f3666c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start[data-v-46f3666c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between[data-v-46f3666c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around[data-v-46f3666c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column[data-v-46f3666c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar[data-v-46f3666c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records[data-v-46f3666c] {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records[data-v-46f3666c]:before {\n  display: table;\n  content: '';\n}\n.table_records i[data-v-46f3666c] {\n  color: #409eff;\n}\n.el-pagination .btn-prev[data-v-46f3666c],\n.el-pagination .btn-next[data-v-46f3666c] {\n  padding: 0 12px !important;\n}\n.secondary_form[data-v-46f3666c] {\n  width: 500px;\n}\n.secondary_form .el-cascader[data-v-46f3666c] {\n  width: 100%;\n}\n.boxshadow[data-v-46f3666c] {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form[data-v-46f3666c] {\n  width: 500px;\n}\n.block[data-v-46f3666c] {\n  display: block;\n}\n.indent[data-v-46f3666c] {\n  text-indent: 30px;\n}\n.dotted_line[data-v-46f3666c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item[data-v-46f3666c] {\n  font-weight: bold;\n}\n.bold[data-v-46f3666c] {\n  font-weight: bold;\n}\n.process_btns[data-v-46f3666c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_[data-v-46f3666c] {\n  border: 1px solid #ddd;\n}\n.line_through[data-v-46f3666c] {\n  text-decoration: line-through;\n}\n#app .el-badge__content[data-v-46f3666c] {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label[data-v-46f3666c] {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed[data-v-46f3666c] {\n  z-index: 99;\n}\nhtml[data-v-46f3666c],\nbody[data-v-46f3666c],\ndiv[data-v-46f3666c],\nspan[data-v-46f3666c],\niframe[data-v-46f3666c],\nh1[data-v-46f3666c],\nh2[data-v-46f3666c],\nh3[data-v-46f3666c],\nh4[data-v-46f3666c],\nh5[data-v-46f3666c],\nh6[data-v-46f3666c],\np[data-v-46f3666c],\npre[data-v-46f3666c],\na[data-v-46f3666c],\nem[data-v-46f3666c],\nimg[data-v-46f3666c],\ni[data-v-46f3666c],\nol[data-v-46f3666c],\nul[data-v-46f3666c],\nfieldset[data-v-46f3666c],\nform[data-v-46f3666c],\nlabel[data-v-46f3666c],\ntable[data-v-46f3666c],\ntbody[data-v-46f3666c],\ntfoot[data-v-46f3666c],\nthead[data-v-46f3666c],\ntr[data-v-46f3666c],\nth[data-v-46f3666c],\ntd[data-v-46f3666c],\ncanvas[data-v-46f3666c],\nfooter[data-v-46f3666c],\nheader[data-v-46f3666c],\nsection[data-v-46f3666c],\naudio[data-v-46f3666c],\nvideo[data-v-46f3666c] {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli[data-v-46f3666c] {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle[data-v-46f3666c],\naside[data-v-46f3666c],\ndetails[data-v-46f3666c],\nfigcaption[data-v-46f3666c],\nfigure[data-v-46f3666c],\nfooter[data-v-46f3666c],\nheader[data-v-46f3666c],\nhgroup[data-v-46f3666c],\nmenu[data-v-46f3666c],\nnav[data-v-46f3666c],\nsection[data-v-46f3666c] {\n  display: block;\n}\nol[data-v-46f3666c],\nul[data-v-46f3666c] {\n  list-style: none;\n}\ninput[data-v-46f3666c],\nbutton[data-v-46f3666c],\nselect[data-v-46f3666c],\ntextarea[data-v-46f3666c] {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote[data-v-46f3666c],\nq[data-v-46f3666c] {\n  quotes: none;\n}\nblockquote[data-v-46f3666c]:before,\nblockquote[data-v-46f3666c]:after,\nq[data-v-46f3666c]:before,\nq[data-v-46f3666c]:after {\n  content: '';\n  content: none;\n}\ntable[data-v-46f3666c] {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody[data-v-46f3666c],\nhtml[data-v-46f3666c] {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni[data-v-46f3666c] {\n  font-style: normal;\n}\n.err_color[data-v-46f3666c] {\n  color: #f56c6c;\n}\n.success_color[data-v-46f3666c] {\n  color: #67c23a;\n}\n.warn_color[data-v-46f3666c] {\n  color: #e6a23c;\n}\n.light_color[data-v-46f3666c] {\n  color: #909399;\n}\n.info_color[data-v-46f3666c] {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+e("41FU")+") ;\n  src: url("+e("41FU")+"#iefix) format('embedded-opentype'), url("+e("AmmJ")+") format('woff'), url("+e("gjvD")+") format('truetype'), url("+e("xCPn")+"#iconfont) format('svg') ;\n}\n.icon[data-v-46f3666c] {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#vip_custormer .el-dialog .el-switch[data-v-46f3666c] {\n  margin-top: 10px;\n}\n#vip_custormer .toolbar_process[data-v-46f3666c] {\n  margin-top: 20px;\n}\n#vip_custormer .order_detail[data-v-46f3666c] {\n  border: 1px solid #ddd;\n  padding: 20px;\n  height: 200px;\n  overflow-y: auto;\n}\n#vip_custormer .order_detail li[data-v-46f3666c] {\n  height: 24px;\n  line-height: 24px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#vip_custormer .order_detail li span[data-v-46f3666c] {\n  width: 150px;\n  color: #409eff;\n  cursor: pointer;\n}\n",""])}});