webpackJsonp([24],{Yy04:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("BO1k"),i=t.n(o),s={name:"",data:function(){return{orderTypeList:[{name:"销售备注",value:1},{name:"退货备注",value:2},{name:"收款码",value:3}],showToolTip:!0,aliCont:"如何查看支付宝收款二维码链接？</br>使用微信扫一扫支付宝的收款码，复制页面内的链接。</br>页面展示的链接为支付宝收款码链接",wxCont:"如何查看微信收款二维码链接？</br>使用QQ扫一扫微信的收款码，复制页面内的链接。</br>页面展示的链接为支付宝收款码链接",defaultObj:{},choosedId:-1,orderType:1,editForm:{inputVal:""},const_num:3,tabsList:[{label:"单品备注",value:"1"},{label:"整单备注",value:"2"}],tabsType:"1",editFormRules:{inputVal:[{required:!0,validator:this.noEmpty,message:"输入框不能为空",trigger:"blur"}]},users:[{}],linkForm:{alipay:"",wx:"",alipayId:null,wxId:null}}},created:function(){this.getUsers(),this.delTip=this._debounce(this.delTip),this.setDefault=this._debounce(this.setDefault),this.saveTag=this._debounce(this.saveTag)},components:{},methods:{getUsers:function(){var n=this;3!==this.orderType?this.$postJson(this._basePath.ajaxTipGetByPage,{type:this.tabsType-0,orderType:this.orderType}).then(function(e){e.success&&(e.data&&(n.users=e.data),n.defaultObj=n.users.find(function(n){return 1===n.isDefault})||{})}):(this.$postJson(this._basePath.ajaxTipGetByPage,{type:3,orderType:3}).then(function(e){e.success&&(n.$set(n.linkForm,"alipay",e.data&&e.data.length?e.data[e.data.length-1].remark:""),n.$set(n.linkForm,"alipayId",e.data&&e.data.length?e.data[e.data.length-1].id:""))}),this.$postJson(this._basePath.ajaxTipGetByPage,{type:3,orderType:4}).then(function(e){e.success&&(n.$set(n.linkForm,"wx",e.data&&e.data.length?e.data[e.data.length-1].remark:""),n.$set(n.linkForm,"wxId",e.data&&e.data.length?e.data[e.data.length-1].id:""))}))},saveTag:function(){var n=this;if(3!==this.orderType)this.$refs.editForm.validate(function(e){if(e){var t={type:n.tabsType-0,remarkList:n.strToArr(n.editForm.inputVal).toString(),orderType:n.orderType};n.$postJson(n._basePath.ajaxTipSave,t).then(function(e){e.success&&(n.editForm.inputVal="",n.$message.success("操作成功"),n.$refs.editForm.resetFields(),n.getUsers())})}});else{var e=[];this.linkForm.alipay&&e.push({orderType:3,remark:this.linkForm.alipay,type:3}),this.linkForm.wx&&e.push({orderType:4,remark:this.linkForm.wx,type:3}),this.$post(this._basePath.ajaxTipSaveQrcode,e).then(function(e){e.success&&n.$message.success("保存成功")})}},delTip:function(){var n=this;if(-1===this.choosedId)return this.$message.error("请先选择标签"),!1;this.$postJson(this._basePath.ajaxTipDel,{remarkId:this.choosedId}).then(function(e){e.success&&(n.$message.success("删除备注成功"),n.choosedId=-1,n.getUsers())})},setDefault:function(){var n=this;if(-1===this.choosedId)return this.$message.error("请先选择标签"),!1;this.defaultObj.id===this.choosedId?this.$confirm("确认取消设置默认吗？","提示",{type:"warning"}).then(function(){var e={remarkId:n.choosedId,isDefault:0};n.$postJson(n._basePath.ajaxTipSetDefault,e).then(function(e){e.success&&(n.$message.success("取消成功"),n.getUsers())})}).catch(function(){}):this.$postJson(this._basePath.ajaxTipSetDefault,{remarkId:this.choosedId,isDefault:1}).then(function(e){e.success&&(n.$message.success("设置成功"),n.getUsers())})},onlySemicolon:function(n,e,t){e&&/^[;；]$/.test(e.trim())?t(new Error(n.message)):t()},maxLen:function(n,e,t){var o=e.trim().split(";"),s=!0;if(o.length){var a=!0,r=!1,l=void 0;try{for(var p,d=i()(o);!(a=(p=d.next()).done);a=!0){p.value.length>70&&(s=!1)}}catch(n){r=!0,l=n}finally{try{!a&&d.return&&d.return()}finally{if(r)throw l}}}s?t():t(new Error(n.message))},orderTypeChange:function(){this.getUsers()},strToArr:function(n){return n?n.trim().split(/;|；/g).filter(function(n){return n}):[]},tabClick:function(){this.choosedId=-1,this.getUsers()}}},a={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"shop_tips"}},[t("div",{staticClass:"order_type"},[t("el-radio-group",{on:{change:n.orderTypeChange},model:{value:n.orderType,callback:function(e){n.orderType=e},expression:"orderType"}},n._l(n.orderTypeList,function(e){return t("el-radio-button",{key:e.value,attrs:{label:e.value}},[n._v(n._s(e.name))])}))],1),n._v(" "),t("el-tabs",{class:[n.orderType===n.const_num&&"visibilityHide"],staticStyle:{height:"500px"},attrs:{"tab-position":"left"},on:{"tab-click":n.tabClick},model:{value:n.tabsType,callback:function(e){n.tabsType=e},expression:"tabsType"}},n._l(n.tabsList,function(e){return t("el-tab-pane",{key:e.label,attrs:{label:e.label,name:e.value+""}},[n.orderType!==n.const_num?[t("div",{staticClass:"textarea"},[t("el-radio-group",{attrs:{size:"big"},model:{value:n.choosedId,callback:function(e){n.choosedId=e},expression:"choosedId"}},n._l(n.users,function(e,o){return t("el-radio",{key:o,attrs:{label:e.id,border:""}},[t("span",{domProps:{innerHTML:n._s(e.remark?e.remark.replace(/\n/g,"</br>"):"")}}),n._v(" "),e.id===n.defaultObj.id?t("div",{staticClass:"triangle icon"},[n._v("")]):n._e()])}))],1)]:[t("div",{staticClass:"top_tip"},[t("span",{staticClass:"icon text_color"},[n._v("")]),n._v("输入支付宝、微信收款码链接，系统将自动生成收款二维码，在纸质订单上显示。\n        ")]),n._v(" "),t("el-form",{ref:"linkForm",refInFor:!0,staticClass:"link_form",staticStyle:{width:"80%","min-width":"500px"},attrs:{model:n.linkForm,"label-width":"200px"}},[t("el-form-item",{attrs:{label:"支付宝收款二维码链接",prop:"name"}},[t("div",{staticClass:"tooltip",domProps:{innerHTML:n._s(n.aliCont)}}),n._v(" "),t("el-input",{attrs:{placeholder:"支付宝收款二维码链接"},model:{value:n.linkForm.alipay,callback:function(e){n.$set(n.linkForm,"alipay",e)},expression:"linkForm.alipay"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"微信收款二维码链接",prop:"phone"}},[t("div",{staticClass:"tooltip",domProps:{innerHTML:n._s(n.wxCont)}}),n._v(" "),t("el-input",{attrs:{placeholder:"微信收款二维码链接"},model:{value:n.linkForm.wx,callback:function(e){n.$set(n.linkForm,"wx",e)},expression:"linkForm.wx"}})],1),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:n.saveTag}},[n._v("保存")])],1)],1)]],2)})),n._v(" "),t("div",[n.orderType!==n.const_num?[t("el-form",{ref:"editForm",staticClass:"edit_form",attrs:{model:n.editForm}},[t("el-form-item",{staticClass:"input_btn",attrs:{prop:"inputVal",rules:[{validator:n.noEmpty,message:"不能为空",trigger:"blur"},{validator:n.onlySemicolon,message:"分号分隔的内容不能全为空",trigger:"blur"},{validator:n.maxLen,message:"单个备注字数不能超过70个",trigger:"blur"}]}},[t("el-input",{attrs:{type:"textarea",placeholder:"可输入多个标签，请用；号隔开，如;断货；大码；尾货"},model:{value:n.editForm.inputVal,callback:function(e){n.$set(n.editForm,"inputVal",e)},expression:"editForm.inputVal"}}),n._v(" "),t("el-button",{staticClass:"slot_input",attrs:{type:"primary"},on:{click:n.saveTag}},[n._v("添加备注")])],1)],1)]:n._e()],2),n._v(" "),n.orderType!==n.const_num?t("div",{staticClass:"center"},["2"===n.tabsType?t("el-button",{attrs:{type:void 0!==n.defaultObj.id&&n.defaultObj.id===n.choosedId?"danger":"primary",disabled:-1===n.choosedId},on:{click:n.setDefault}},[n._v("\n      "+n._s(void 0!==n.defaultObj.id&&n.defaultObj.id===n.choosedId?"取消":"设为")+"默认备注")]):n._e(),n._v(" "),t("el-button",{attrs:{type:"danger",disabled:-1===n.choosedId},on:{click:n.delTip}},[n._v("删除")])],1):n._e()],1)},staticRenderFns:[]};var r=t("VU/8")(s,a,!1,function(n){t("hCSO")},null,null);e.default=r.exports},dfbR:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+t("41FU")+") ;\n  src: url("+t("41FU")+"#iefix) format('embedded-opentype'), url("+t("AmmJ")+") format('woff'), url("+t("gjvD")+") format('truetype'), url("+t("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#shop_tips {\n  margin: 20px;\n  margin-top: 50px;\n  padding: 20px;\n  -webkit-box-shadow: 0 0 20px 5px #ddd;\n          box-shadow: 0 0 20px 5px #ddd;\n}\n#shop_tips .visibilityHide .el-tabs__header {\n  display: none;\n}\n#shop_tips .edit_form {\n  margin-left: 110px;\n  margin-top: -70px;\n}\n#shop_tips .top_tip {\n  height: 40px;\n  line-height: 40px;\n  padding-left: 20px;\n  margin: 20px 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  background-color: #bae7ff;\n}\n#shop_tips .top_tip span {\n  margin-right: 5px;\n}\n#shop_tips .el-radio-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n#shop_tips .link_form {\n  padding-top: 40px;\n}\n#shop_tips .link_form .el-form-item {\n  padding-top: 40px;\n  position: relative;\n  margin-bottom: 60px;\n}\n#shop_tips .link_form .el-form-item .tooltip {\n  position: absolute;\n  font-size: 12px;\n  color: #fff;\n  padding: 10px;\n  border-radius: 3px;\n  background-color: rgba(0,0,0,0.8);\n  top: -80px;\n  line-height: 16px;\n  z-index: 100;\n}\n#shop_tips .input_btn .el-form-item__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#shop_tips .el-radio {\n  margin-bottom: 10px;\n  height: auto;\n}\n#shop_tips .el-radio.is-bordered {\n  padding: 12px 30px 12px 30px !important;\n}\n#shop_tips .el-radio .triangle {\n  position: absolute;\n  right: -6px;\n  top: -6px;\n  font-size: 50px;\n}\n#shop_tips .el-radio__input {\n  display: none;\n}\n#shop_tips .el-radio__label {\n  padding-left: 0;\n}\n#shop_tips .order_type {\n  margin: 20px 0;\n}\n#shop_tips .textarea {\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  padding: 10px;\n  margin: 10px 0;\n  margin-bottom: 20px;\n  height: 400px;\n}\n#shop_tips .textarea .el-tag {\n  margin: 10px;\n}\n#shop_tips .slot_input {\n  cursor: pointer;\n  padding: 19px 30px;\n}\n#shop_tips .el-button--success {\n  border-color: #67c23a;\n  background-color: #67c23a;\n  color: #fff;\n}\n",""])},hCSO:function(n,e,t){var o=t("dfbR");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);t("rjj0")("c494d1b2",o,!0)}});