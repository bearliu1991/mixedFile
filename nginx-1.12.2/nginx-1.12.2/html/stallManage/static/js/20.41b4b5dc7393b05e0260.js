webpackJsonp([20],{FR8T:function(t,a,e){var n=e("iSol");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("3c02b48a",n,!0)},Gr69:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("woOf"),i=e.n(n),o=e("Dd8w"),l=e.n(o),s=(e("p19P"),{data:function(){return{showDrawer:!1,filters:{clerkId:""},shifts:[],users:[],total:0,pageNum:1,pageSize:10,reset:!1,editFormRules:{name:[{required:!0,validator:this.noEmpty,message:"请输入用户名",trigger:"blur"}],phone:[{required:!0,validator:this.noEmpty,message:"手机号不能为空",trigger:"blur"},{required:!0,validator:this.mobileReg,message:"请输入正确的手机号码",trigger:"blur"}]},manualSettleTip:"包含销售订单、补货订单、零售订单、VIP订单",manualSettleTip1:"包含退货订单、快捷退货单",manualSettleTip2:"个人支付宝收款、个人微信收款、现金收款均属于线下收款",manualSettleTip3:"个人支付宝退款、个人微信退款、现金退款均属于线下退款",editForm:{}}},mounted:function(){this.getUsers(),this.getStaff()},components:{OrderDetail:e("1Jne").a},methods:{handleCurrentChange:function(t){this.pageNum=t,this.getUsers()},queryData:function(){this.pageNum=1,this.getUsers()},clearSearch:function(){this.reset=!0},getStaff:function(){var t=this;this.$postJson(this._basePath.ajaxClerkByPage,{pageNum:1,pageSize:9999}).then(function(a){a.success&&(t.shifts=a.data.datas)})},formateShiftTime:function(t){return this._formatTime(t.endTime,!0)||"—"},getUsers:function(){var t=this,a={pageNum:this.pageNum,pageSize:this.pageSize},e=l()({},a,this.filters),n=this.$refs.dateFilter.getParams();this._isArray(n)?(e.startTime=n[0],e.endTime=n[1]):e.timeType=n,this.$postJson(this._basePath.ajaxShiftByPage,e).then(function(a){a.success&&(t.total=a.data.count,t.users=a.data.datas)})},handleEdit:function(t,a){this.showDrawer=!0,this.editForm=i()({},a)}}}),r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"app-container",attrs:{id:"workList"}},[e("div",[e("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[e("el-form",{attrs:{inline:!0,model:t.filters},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-form-item",{attrs:{label:"交班人"}},[e("el-select",{attrs:{placeholder:"请选择交班人"},model:{value:t.filters.clerkId,callback:function(a){t.$set(t.filters,"clerkId",a)},expression:"filters.clerkId"}},t._l(t.shifts,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),e("el-form-item",[e("date-pick",{ref:"dateFilter",attrs:{showArr:["today","curMonth"]},model:{value:t.reset,callback:function(a){t.reset=a},expression:"reset"}})],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.queryData}},[t._v("查询")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:t.clearSearch}},[t._v("清空搜索")])],1)],1)],1),t._v(" "),e("record-count",{attrs:{total:t.total}}),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.users,"highlight-current-row":""}},[e("el-table-column",{attrs:{prop:"endTime",label:"交班时间",formatter:t.formateShiftTime}}),t._v(" "),e("el-table-column",{attrs:{prop:"orderNum",label:"线下收款订单数",width:"190px"},scopedSlots:t._u([{key:"header",fn:function(a){return[e("span",[t._v("线下收款订单数(单)")]),t._v(" "),e("el-tooltip",{attrs:{content:t.manualSettleTip,placement:"top","open-delay":300}},[e("i",{staticClass:"icon fn18"},[t._v("")])])]}},{key:"default",fn:function(a){return[t._v(t._s(a.row.orderNum))]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"actualFee",label:"应收"},scopedSlots:t._u([{key:"header",fn:function(a){return[e("span",[t._v("线下收款")]),t._v(" "),e("el-tooltip",{attrs:{content:t.manualSettleTip2,placement:"top","open-delay":300}},[e("i",{staticClass:"icon fn18"},[t._v("")])])]}},{key:"default",fn:function(a){return[t._v(t._s(a.row.actualFee))]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"quitOrderFee",label:"线下退款"},scopedSlots:t._u([{key:"header",fn:function(a){return[e("span",[t._v("线下退款")]),t._v(" "),e("el-tooltip",{attrs:{content:t.manualSettleTip3,placement:"top","open-delay":300}},[e("i",{staticClass:"icon fn18"},[t._v("")])])]}},{key:"default",fn:function(a){return[t._v(t._s(a.row.quitOrderFee))]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"交班人"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"small",plain:"",type:"primary"},on:{click:function(e){t.handleEdit(a.$index,a.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),e("div",{staticClass:"page_toolbar"},[e("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","current-page":t.pageNum,"page-size":t.pageSize,total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),e("Drawer",{attrs:{width:"700px",title:"交班详情"},model:{value:t.showDrawer,callback:function(a){t.showDrawer=a},expression:"showDrawer"}},[e("ul",{staticClass:"shift_title"},[e("li",{staticStyle:{width:"62%"}},[e("span",[t._v("交班时间")]),t._v(" "),e("i",[t._v(t._s(t._formatTime(t.editForm.startTime,!0))+" ~ "+t._s(t._formatTime(t.editForm.endTime,!0)))])]),t._v(" "),e("li",{staticStyle:{width:"18%"}},[e("span",[t._v("操作店员")]),t._v(" "),e("i",[t._v(t._s(t.editForm.name))])]),t._v(" "),e("li",{staticStyle:{width:"20%"}},[e("span",[t._v("操作账号")]),t._v(" "),e("i",[t._v(t._s(t.getCookie("phone")))])])]),t._v(" "),e("div",{staticClass:"split_line"}),t._v(" "),e("ul",{staticClass:"shift_detail"},[e("li",[e("div",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.manualSettleTip,"open-delay":300,placement:"top-start"}},[e("span",{staticClass:"icon light_color tips"},[t._v("")])]),t._v(" "),e("span",[t._v("线下收款订单数（单）")])],1),t._v(" "),e("i",[t._v(t._s(t.editForm.orderNum))])]),t._v(" "),e("li",[e("div",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.manualSettleTip2,"open-delay":300,placement:"top-start"}},[e("span",{staticClass:"icon light_color tips"},[t._v("")])]),t._v(" "),e("span",[t._v("线下收款（元）")])],1),t._v(" "),e("i",[t._v(t._s(t.editForm.actualFee))])]),t._v(" "),e("li",[e("div",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.manualSettleTip1,"open-delay":300,placement:"top-start"}},[e("span",{staticClass:"icon light_color tips"},[t._v("")])]),t._v(" "),e("span",[t._v("线下退款订单数（单）")])],1),t._v(" "),e("i",[t._v(t._s(t.editForm.quitOrderNum))])]),t._v(" "),e("li",[e("div",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.manualSettleTip3,"open-delay":300,placement:"top-start"}},[e("span",{staticClass:"icon light_color tips"},[t._v("")])]),t._v(" "),e("span",[t._v("线下退款（元）")])],1),t._v(" "),e("i",[t._v(t._s(t.editForm.quitOrderFee))])])]),t._v(" "),e("div",{staticClass:"tips"},[t._v("注：交班记录不统计被驳回订单的数量与金额；不统计后台管理操作的退单数量与金额。")]),t._v(" "),e("ul",{staticClass:"shift_detail bottom"},[e("li"),t._v(" "),e("li",[e("div",[e("span",[t._v("现金总计（元）")])]),t._v(" "),e("i",[t._v(t._s(t.editForm.actualFee-t.editForm.quitOrderFee))])])])])],1)])},staticRenderFns:[]};var d=e("VU/8")(s,r,!1,function(t){e("FR8T")},"data-v-5e6a6436",null);a.default=d.exports},iSol:function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.fn10[data-v-5e6a6436] {\n  font-size: 10px;\n}\n.fn12[data-v-5e6a6436] {\n  font-size: 12px;\n}\n.fn14[data-v-5e6a6436] {\n  font-size: 14px;\n}\n.fn16[data-v-5e6a6436] {\n  font-size: 16px;\n}\n.fn18[data-v-5e6a6436] {\n  font-size: 18px;\n}\n.fn20[data-v-5e6a6436] {\n  font-size: 20px;\n}\n.fn22[data-v-5e6a6436] {\n  font-size: 22px;\n}\n.fn24[data-v-5e6a6436] {\n  font-size: 24px;\n}\n.fn26[data-v-5e6a6436] {\n  font-size: 26px;\n}\n.fn28[data-v-5e6a6436] {\n  font-size: 28px;\n}\n.fn30[data-v-5e6a6436] {\n  font-size: 30px;\n}\n.fn32[data-v-5e6a6436] {\n  font-size: 32px;\n}\n.cursor[data-v-5e6a6436] {\n  cursor: pointer;\n}\n.fl[data-v-5e6a6436] {\n  float: left;\n}\n.fr[data-v-5e6a6436] {\n  float: right;\n}\n.title_public[data-v-5e6a6436] {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color[data-v-5e6a6436] {\n  color: #409eff;\n}\n.light_color[data-v-5e6a6436] {\n  color: #e3e4e6;\n}\n.err_color[data-v-5e6a6436] {\n  color: #f56c6c;\n}\n.suc_color[data-v-5e6a6436] {\n  color: #09bb07;\n}\n.center[data-v-5e6a6436] {\n  text-align: center;\n}\n.set_middle[data-v-5e6a6436] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start[data-v-5e6a6436] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between[data-v-5e6a6436] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around[data-v-5e6a6436] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column[data-v-5e6a6436] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar[data-v-5e6a6436] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records[data-v-5e6a6436] {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records[data-v-5e6a6436]:before {\n  display: table;\n  content: '';\n}\n.table_records i[data-v-5e6a6436] {\n  color: #409eff;\n}\n.el-pagination .btn-prev[data-v-5e6a6436],\n.el-pagination .btn-next[data-v-5e6a6436] {\n  padding: 0 12px !important;\n}\n.secondary_form[data-v-5e6a6436] {\n  width: 500px;\n}\n.secondary_form .el-cascader[data-v-5e6a6436] {\n  width: 100%;\n}\n.boxshadow[data-v-5e6a6436] {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form[data-v-5e6a6436] {\n  width: 500px;\n}\n.block[data-v-5e6a6436] {\n  display: block;\n}\n.indent[data-v-5e6a6436] {\n  text-indent: 30px;\n}\n.dotted_line[data-v-5e6a6436] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item[data-v-5e6a6436] {\n  font-weight: bold;\n}\n.bold[data-v-5e6a6436] {\n  font-weight: bold;\n}\n.process_btns[data-v-5e6a6436] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_[data-v-5e6a6436] {\n  border: 1px solid #ddd;\n}\n.line_through[data-v-5e6a6436] {\n  text-decoration: line-through;\n}\n#app .el-badge__content[data-v-5e6a6436] {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label[data-v-5e6a6436] {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed[data-v-5e6a6436] {\n  z-index: 99;\n}\nhtml[data-v-5e6a6436],\nbody[data-v-5e6a6436],\ndiv[data-v-5e6a6436],\nspan[data-v-5e6a6436],\niframe[data-v-5e6a6436],\nh1[data-v-5e6a6436],\nh2[data-v-5e6a6436],\nh3[data-v-5e6a6436],\nh4[data-v-5e6a6436],\nh5[data-v-5e6a6436],\nh6[data-v-5e6a6436],\np[data-v-5e6a6436],\npre[data-v-5e6a6436],\na[data-v-5e6a6436],\nem[data-v-5e6a6436],\nimg[data-v-5e6a6436],\ni[data-v-5e6a6436],\nol[data-v-5e6a6436],\nul[data-v-5e6a6436],\nfieldset[data-v-5e6a6436],\nform[data-v-5e6a6436],\nlabel[data-v-5e6a6436],\ntable[data-v-5e6a6436],\ntbody[data-v-5e6a6436],\ntfoot[data-v-5e6a6436],\nthead[data-v-5e6a6436],\ntr[data-v-5e6a6436],\nth[data-v-5e6a6436],\ntd[data-v-5e6a6436],\ncanvas[data-v-5e6a6436],\nfooter[data-v-5e6a6436],\nheader[data-v-5e6a6436],\nsection[data-v-5e6a6436],\naudio[data-v-5e6a6436],\nvideo[data-v-5e6a6436] {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli[data-v-5e6a6436] {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle[data-v-5e6a6436],\naside[data-v-5e6a6436],\ndetails[data-v-5e6a6436],\nfigcaption[data-v-5e6a6436],\nfigure[data-v-5e6a6436],\nfooter[data-v-5e6a6436],\nheader[data-v-5e6a6436],\nhgroup[data-v-5e6a6436],\nmenu[data-v-5e6a6436],\nnav[data-v-5e6a6436],\nsection[data-v-5e6a6436] {\n  display: block;\n}\nol[data-v-5e6a6436],\nul[data-v-5e6a6436] {\n  list-style: none;\n}\ninput[data-v-5e6a6436],\nbutton[data-v-5e6a6436],\nselect[data-v-5e6a6436],\ntextarea[data-v-5e6a6436] {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote[data-v-5e6a6436],\nq[data-v-5e6a6436] {\n  quotes: none;\n}\nblockquote[data-v-5e6a6436]:before,\nblockquote[data-v-5e6a6436]:after,\nq[data-v-5e6a6436]:before,\nq[data-v-5e6a6436]:after {\n  content: '';\n  content: none;\n}\ntable[data-v-5e6a6436] {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody[data-v-5e6a6436],\nhtml[data-v-5e6a6436] {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni[data-v-5e6a6436] {\n  font-style: normal;\n}\n.err_color[data-v-5e6a6436] {\n  color: #f56c6c;\n}\n.success_color[data-v-5e6a6436] {\n  color: #67c23a;\n}\n.warn_color[data-v-5e6a6436] {\n  color: #e6a23c;\n}\n.light_color[data-v-5e6a6436] {\n  color: #909399;\n}\n.info_color[data-v-5e6a6436] {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+e("41FU")+") ;\n  src: url("+e("41FU")+"#iefix) format('embedded-opentype'), url("+e("AmmJ")+") format('woff'), url("+e("gjvD")+") format('truetype'), url("+e("xCPn")+"#iconfont) format('svg') ;\n}\n.icon[data-v-5e6a6436] {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#workList .shift_title[data-v-5e6a6436] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n#workList .shift_title li[data-v-5e6a6436] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  border-right: 1px solid #ddd;\n}\n#workList .shift_title li[data-v-5e6a6436]:last-child {\n  border: none;\n}\n#workList .shift_title li span[data-v-5e6a6436] {\n  color: #909399;\n}\n#workList .shift_title li i[data-v-5e6a6436] {\n  font-size: 16px;\n  margin-top: 20px;\n  font-weight: bold;\n}\n#workList .split_line[data-v-5e6a6436] {\n  height: 40px;\n  background-color: #f0f2f5;\n  margin-top: 30px;\n}\n#workList .tips[data-v-5e6a6436] {\n  text-align: right;\n  margin: 10px 0;\n  color: #909399;\n  font-size: 12px;\n}\n#workList .shift_detail[data-v-5e6a6436] {\n  margin-top: 30px;\n  font-size: 0;\n}\n#workList .shift_detail[data-v-5e6a6436]:after {\n  display: block;\n  content: '';\n  content: \" \";\n  display: table;\n  clear: both;\n}\n#workList .shift_detail.bottom[data-v-5e6a6436] {\n  border-top: 1px solid #ddd;\n  margin-top: 20px;\n}\n#workList .shift_detail li[data-v-5e6a6436] {\n  font-size: 16px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  float: left;\n  width: 50%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding: 10px;\n}\n#workList .shift_detail li >div[data-v-5e6a6436] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-right: 20px;\n}\n#workList .shift_detail li >div span[data-v-5e6a6436]:last-child {\n  margin-left: 5px;\n}\n#workList .shift_detail li i[data-v-5e6a6436] {\n  font-size: 24px;\n  color: #f56c6c;\n}\n",""])}});