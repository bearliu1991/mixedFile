webpackJsonp([5],{DjPw:function(n,t,e){var o=e("I+8I");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);e("rjj0")("21c75974",o,!0)},EBkK:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+e("41FU")+") ;\n  src: url("+e("41FU")+"#iefix) format('embedded-opentype'), url("+e("AmmJ")+") format('woff'), url("+e("gjvD")+") format('truetype'), url("+e("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#skuPrint {\n  height: 100%;\n}\n#skuPrint .el-form-item__error {\n  padding-top: 0;\n}\n#skuPrint .el-form-item {\n  margin-bottom: 10px;\n}\n#skuPrint .el-table tr.hidden {\n  display: none;\n}\n",""])},"I+8I":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+e("41FU")+") ;\n  src: url("+e("41FU")+"#iefix) format('embedded-opentype'), url("+e("AmmJ")+") format('woff'), url("+e("gjvD")+") format('truetype'), url("+e("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#store_manage .info_wrap {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n}\n#store_manage .info_wrap p {\n  font-weight: bold;\n  -ms-flex-preferred-size: 110px;\n      flex-basis: 110px;\n  display: inline-block;\n}\n#store_manage .info_wrap .info_list {\n  height: 120px;\n  line-height: 18px;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  text-align: left;\n  word-break: break-all;\n  overflow-y: auto;\n}\n#store_manage .submit_btn {\n  margin-top: 40px;\n  margin-bottom: 30px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#store_manage .submit_btn .submit_title {\n  margin-right: 50px;\n  margin-bottom: 20px;\n  font-size: 16px;\n}\n#store_manage .submit_need {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin: 10px;\n}\n#store_manage .switch_tabs {\n  position: relative;\n}\n#store_manage .switch_tabs .el-tabs__content {\n  overflow: visible;\n}\n#store_manage .switch_tabs .el-tabs__content .good_tips {\n  position: absolute;\n  left: 250px;\n  width: 600px;\n  top: -40px;\n  font-size: 12px;\n  color: #909399;\n}\n#store_manage .leo-dialog,\n#store_manage .to_home {\n  position: relative;\n}\n#store_manage .leo-dialog .recommend_time,\n#store_manage .to_home .recommend_time {\n  position: absolute;\n  font-size: 10px;\n  white-space: nowrap;\n  overflow: visible;\n  z-index: 1;\n}\n#store_manage .el-table .cell {\n  overflow: visible;\n}\n#store_manage .editable_div {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#store_manage .editable_div i {\n  margin-left: 5px;\n}\n#store_manage .editable_div .el-form-item {\n  margin-bottom: 0;\n}\n#store_manage .editable_div .editable_ul .el-input {\n  max-width: 80px;\n}\n#store_manage .editable_div .editable_ul .el-form-item__error {\n  top: 30px;\n  font-size: 12px;\n}\n#store_manage .fn20 {\n  font-size: 20px;\n  color: #409eff;\n}\n#store_manage .fn24 {\n  font-size: 24px;\n}\n#store_manage .link_btn a {\n  display: block;\n  height: 100%;\n}\n#store_manage .good_tip {\n  position: absolute;\n  left: -45px;\n  top: 0;\n  height: 0px;\n  width: 0px;\n  border-left: 35px solid #d81e06;\n  border-bottom: 35px solid transparent;\n}\n#store_manage .good_tip i {\n  position: absolute;\n  top: -1px;\n  right: 20px;\n  font-size: 8px;\n  color: #fff;\n}\n",""])},IRnZ:function(n,t,e){"use strict";var o={name:"",data:function(){return{filters:{productName:"",productCode:""},fillForm:{wholeNum:""},loading:!1,users:[],len:0}},props:["printIds"],created:function(){this.getUsers(),this.queryData()},components:{},methods:{queryData:function(){var n=this;this.filters.productName||this.filters.productCode?this.users.forEach(function(t){var e=!n.filters.productName||t.productName.includes(n.filters.productName),o=!n.filters.productCode||t.productCode.includes(n.filters.productCode);e&&o?n.$set(t,"isShow",!0):n.$set(t,"isShow",!1)}):this.users.forEach(function(t){n.$set(t,"isShow",!0)}),this.len=this.users.filter(function(n){return void 0===n.isShow||n.isShow}).length,this.$bus.$emit("calcScrollHeight")},clearFilter:function(){this.filters={productName:"",productCode:""},this.queryData()},fillNum:function(){var n=this;this.$refs.fillForm.validate(function(t){t&&n.users.forEach(function(t){(t.isShow||void 0===t.isShow)&&n.$set(t,"printNum",n.fillForm.wholeNum)})})},getUsers:function(){var n=this,t={productIdList:this.printIds.toString()};this.loading=!0,this.$postJson(this._basePath.ajaxGoodsPrintSku,t).then(function(t){n.loading=!1,t.success&&(n.users=t.data,n.len=n.users?n.users.length:0,n.$nextTick(function(){n.$bus.$emit("calcScrollHeight")}))})},tableRowClassName:function(n){var t=n.row;n.rowIndex;if(!1===t.isShow)return"hidden"},getParams:function(){return this.users}}},i={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"skuPrint"}},[e("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[e("el-form",{attrs:{inline:!0,model:n.filters},nativeOn:{submit:function(n){n.preventDefault()}}},[e("el-form-item",{attrs:{label:"商品名称"}},[e("el-input",{attrs:{size:"mini",placeholder:"请输入商品名称"},model:{value:n.filters.productName,callback:function(t){n.$set(n.filters,"productName",t)},expression:"filters.productName"}})],1),n._v(" "),e("el-form-item",{attrs:{label:"商品货号"}},[e("el-input",{attrs:{size:"mini",placeholder:"请输入商品货号"},model:{value:n.filters.productCode,callback:function(t){n.$set(n.filters,"productCode",t)},expression:"filters.productCode"}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:n.queryData}},[n._v("查询")]),n._v(" "),e("el-button",{attrs:{type:"text",plain:""},on:{click:n.clearFilter}},[n._v("清空筛选条件")])],1)],1),n._v(" "),e("el-form",{ref:"fillForm",staticClass:"fr",attrs:{inline:!0,model:n.fillForm},nativeOn:{submit:function(n){n.preventDefault()}}},[e("el-form-item",{attrs:{label:"",prop:"wholeNum",rules:[{required:!0,validator:n.noEmpty,message:"不能为空",trigger:"blur"},{required:!0,validator:n._positiveInt,message:"需为有效数字",trigger:"blur"}]}},[e("el-input",{attrs:{size:"mini",placeholder:"请输入填充数量"},model:{value:n.fillForm.wholeNum,callback:function(t){n.$set(n.fillForm,"wholeNum",t)},expression:"fillForm.wholeNum"}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:n.fillNum}},[n._v("批量填充数量")])],1)],1)],1),n._v(" "),e("record-count",{attrs:{total:n.len}}),n._v(" "),e("ScrollBar",{staticStyle:{clear:"both",height:"calc(100% - 160px)"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:n.users,"highlight-current-row":"","row-class-name":n.tableRowClassName}},[e("el-table-column",{attrs:{prop:"id",label:"skuId"}}),n._v(" "),e("el-table-column",{attrs:{prop:"productCode",label:"商品货号"}}),n._v(" "),e("el-table-column",{attrs:{prop:"color",label:"颜色"}}),n._v(" "),e("el-table-column",{attrs:{prop:"size",label:"尺寸"}}),n._v(" "),e("el-table-column",{attrs:{prop:"printNum",label:"打印数量"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-form",{ref:"printNum"+t.$index,attrs:{model:t.row}},[e("el-form-item",{attrs:{prop:"printNum",rules:[{required:!0,validator:n._positiveInt,message:"非有效数字，不会打印",trigger:"blur"}]}},[e("el-input",{attrs:{size:"mini"},model:{value:t.row.printNum,callback:function(e){n.$set(t.row,"printNum",e)},expression:"scope.row.printNum"}})],1)],1)]}}])})],1)],1)],1)},staticRenderFns:[]};var r=e("VU/8")(o,i,!1,function(n){e("r6WG")},null,null);t.a=r.exports},Llsi:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+e("41FU")+") ;\n  src: url("+e("41FU")+"#iefix) format('embedded-opentype'), url("+e("AmmJ")+") format('woff'), url("+e("gjvD")+") format('truetype'), url("+e("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#store_warn .header_title {\n  font-size: 14px !important;\n  text-align: center;\n  width: 100%;\n  margin-bottom: 5px;\n  color: #333;\n  font-weight: normal;\n  line-height: 20px !important;\n}\n#store_warn .el-table th div {\n  padding: 0;\n}\n#store_warn .header_cont {\n  margin: 0 10px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#store_warn .header_cont .el-button {\n  margin-left: 10px;\n}\n#store_warn .total_input.el-input.is-disabled .el-input__inner {\n  color: inherit;\n}\n#store_warn .el-table th div {\n  line-height: 20px;\n}\n#store_warn .el-table .err_color input {\n  border-color: #f56c6c;\n}\n#store_warn .el-table .el-table__header .cell {\n  line-height: 10px;\n}\n#store_warn .el-table .el-table__header .cell tr th div {\n  line-height: 20px;\n}\n#store_warn .el-table .el-table__header input {\n  padding: 0 5px;\n}\n#store_warn tr th .cell,\n#store_warn tr th .el-input {\n  padding: 0 3px;\n}\n#store_warn tr th .el-button {\n  padding: 7px 10px;\n}\n#store_warn tr td {\n  text-align: center;\n}\n#store_warn tr:last-child {\n  font-size: 18px;\n  color: #409eff;\n}\n",""])},Mi2C:function(n,t,e){var o=e("Llsi");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);e("rjj0")("62173e03",o,!0)},NQt1:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("Dd8w"),i=e.n(o),r=e("IRnZ"),a=e("BO1k"),s=e.n(a),l={name:"",data:function(){return{loading:!1,users:[],len:0}},props:["curRow"],created:function(){this.getUsers()},components:{},methods:{clearFilter:function(){this.filters={productName:"",productCode:""}},getUsers:function(){var n=this,t={productId:this.curRow.id};this.loading=!0,this.$postJson(this._basePath.ajaxGetSkuBarcodeById,t).then(function(t){n.loading=!1,t.success&&(n.users=t.data,n.users&&n.users.length&&n.users.forEach(function(n){n.oldValue=n.corProd}),n.len=n.users?n.users.length:0)})},getParams:function(){var n=!0;for(var t in this.$refs)this.$refs[t].validate(function(t){!t&&(n=!1)});if(!n)return!1;var e=[];return this.users.forEach(function(n){return n.corProd!==n.oldValue&&e.push({id:n.id,corProd:n.corProd})}),e},barcodeRule:function(n,t,e){if(this._isHasVal(t)){!/^[\s\S]{0,32}$/.test(t.trim())&&e(new Error(n.message));var o=!0,i=!0,r=!1,a=void 0;try{for(var l,c=s()(t);!(i=(l=c.next()).done);i=!0){var d=l.value;(!this._nonnegativeInt(d.charCodeAt())||this._nonnegativeInt(d.charCodeAt())&&d.charCodeAt()>127)&&(o=!1)}}catch(n){r=!0,a=n}finally{try{!i&&c.return&&c.return()}finally{if(r)throw a}}o?e():e(new Error(n.message))}else e()},valueJudge:function(n,t){var e=this;this.$refs[t].validate(function(t){e.$set(n,"isValid",t)})}}},c={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"skuPrint"}},[e("record-count",{attrs:{total:n.len}},[e("span",{staticClass:"fn12"},[n._v("支持大小写字母、数字、常用标点符号，32位以内")])]),n._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:n.users,"highlight-current-row":""}},[e("el-table-column",{attrs:{prop:"id",label:"SKU编码"}}),n._v(" "),e("el-table-column",{attrs:{prop:"productCode",label:"商品货号"}}),n._v(" "),e("el-table-column",{attrs:{prop:"color",label:"颜色"}}),n._v(" "),e("el-table-column",{attrs:{prop:"size",label:"尺寸"}}),n._v(" "),e("el-table-column",{attrs:{prop:"corProd",label:"关联条码","min-width":"230px"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-form",{ref:"printNum"+t.$index,attrs:{model:t.row}},[e("el-form-item",{attrs:{prop:"corProd",rules:{required:!0,validator:n.barcodeRule,message:"支持大小写字母、数字、常用标点符号，32位以内",trigger:"blur"}}},[e("el-input",{attrs:{size:"mini"},on:{blur:function(e){n.valueJudge(t.row,"printNum"+t.$index)}},model:{value:t.row.corProd,callback:function(e){n.$set(t.row,"corProd","string"==typeof e?e.trim():e)},expression:"scope.row.corProd"}})],1)],1)]}}])})],1)],1)},staticRenderFns:[]};var d=e("VU/8")(l,c,!1,function(n){e("Uv9O")},null,null).exports,p={name:"",data:function(){return{columnTitle:"",tableData:[],initNum:0,groupAdd:{color:"",size:"",quantity:"",stockWarn:""},isAddChange:!1,changeType:"",modifyVal:null,objArr:[]}},props:{storeType:{type:String,default:""},isAccurate:{type:Boolean,default:function(){return!0}},colors:{type:Array,default:function(){return[]}},skuVoList:{type:Array,default:function(){return[]}},sizes:{type:Array,default:function(){return[]}},allSku:{type:Object,default:function(){}},curRow:{type:Object,default:function(){}}},watch:{sizes:{handler:function(n,t){this.changeType="size",this.modifyVal=this.getDiff(n,t),this.modifyVal&&this.changeData()},deep:!0},colors:{handler:function(n,t){this.changeType="color",this.modifyVal=this.getDiff(n,t),this.modifyVal&&this.changeData()},deep:!0}},created:function(){var n=this;this.objArr=this.skuVoList.slice(),this.tableData=this.init(this.objArr),this.$bus.$on("deleteSku",function(t){var e=t.name,o=t.type;n.modifyVal=e,n.isAddChange=!1,n.changeType=o,n.changeData()}),this.columnTitle="inventory"===this.storeType?"盘点库存":"add"===this.storeType?"新增入库":"warn"===this.storeType?"库存预警":""},components:{},methods:{init:function(n){var t=[];if(n&&n.length){var e=!0,o=!1,i=void 0;try{for(var r,a=s()(n);!(e=(r=a.next()).done);e=!0){var l=r.value,c=!0,d=!1,p=void 0;try{for(var f,u=s()(l.skuVoList);!(c=(f=u.next()).done);c=!0){var h=f.value;h.oldQuantity=h.stockWarn,this.getWarnColor(h),"inventory"!==this.storeType&&"add"!==this.storeType||(h.stockWarn=""),t.push(h)}}catch(n){d=!0,p=n}finally{try{!c&&u.return&&u.return()}finally{if(d)throw p}}}}catch(n){o=!0,i=n}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}}return t.push({color:"总库存",size:"",quantity:this.calcQuantity(t)}),t},getDiff:function(n,t){var e=void 0;if(t.length>n.length){this.isAddChange=!1;var o=!0,i=!1,r=void 0;try{for(var a,l=s()(t);!(o=(a=l.next()).done);o=!0){var c=a.value;!n.includes(c)&&(e=c)}}catch(n){i=!0,r=n}finally{try{!o&&l.return&&l.return()}finally{if(i)throw r}}}else if(t.length<n.length){this.isAddChange=!0;var d=!0,p=!1,f=void 0;try{for(var u,h=s()(n);!(d=(u=h.next()).done);d=!0){var b=u.value;!t.includes(b)&&(e=b)}}catch(n){p=!0,f=n}finally{try{!d&&h.return&&h.return()}finally{if(p)throw f}}}return e},changeData:function(){var n=this;if("size"===this.changeType)if(this.isAddChange){var t=!0,e=!1,o=void 0;try{for(var i,r=s()(this.objArr);!(t=(i=r.next()).done);t=!0){var a=i.value;a.skuVoList.push({size:this.modifyVal,color:a.color,quantity:this.initNum})}}catch(n){e=!0,o=n}finally{try{!t&&r.return&&r.return()}finally{if(e)throw o}}this.tableData=this.init(this.objArr)}else{var l=!0,c=!1,d=void 0;try{for(var p,f=s()(this.objArr);!(l=(p=f.next()).done);l=!0){var u=p.value,h=u.skuVoList.findIndex(function(t){return t.size===n.modifyVal});h>-1&&u.skuVoList.splice(h,1)}}catch(n){c=!0,d=n}finally{try{!l&&f.return&&f.return()}finally{if(c)throw d}}this.tableData=this.init(this.objArr)}if("color"===this.changeType)if(this.isAddChange){var b=[],m=!0,x=!1,g=void 0;try{for(var y,w=s()(this.sizes);!(m=(y=w.next()).done);m=!0){var _=y.value;b.push({size:_,color:this.modifyVal,quantity:this.initNum})}}catch(n){x=!0,g=n}finally{try{!m&&w.return&&w.return()}finally{if(x)throw g}}var v={color:this.modifyVal,skuVoList:b};this.objArr.push(v),this.tableData=this.init(this.objArr)}else{var k=this.objArr.findIndex(function(t){return t.color===n.modifyVal});k>-1&&this.objArr.splice(k,1),this.tableData=this.init(this.objArr)}},getTotal:function(){return this.tableData[this.tableData.length-1].quantity},calcQuantity:function(n){var t=this,e=0;return n.forEach(function(n){n&&t._isInteger(n.quantity)&&(e+=n.quantity-0)}),e},getTable:function(){return this.tableData},getParams:function(){var n=this,t=this.tableData.slice(0,this.tableData.length-1),e=!0;return t.forEach(function(t){n._isInteger(t.stockWarn)&&(e=!1),n.getWarnColor(t)}),"add"===this.storeType&&e?(this.$message.error(this.columnTitle+"数据不能全为空"),!1):"add"===this.storeType||"inventory"===this.storeType?(t=t.map(function(n){return{id:n.id,stockWarn:n.stockWarn}})).filter(function(t){return n._isHasVal(t.stockWarn)&&n._isInteger(t.stockWarn)}):"warn"===this.storeType?t=(t=t.filter(function(n){return n.stockWarn!==n.oldQuantity})).map(function(n){return{id:n.id,stockWarn:n.stockWarn}}):[]},getSku:function(){return{colors:this.colors,sizes:this.sizes}},getId:function(n,t){var e=this.allSku.color,o=this.allSku.size;if("color"===t){var i=e.find(function(t){return t.name===n});return i?i.id:null}var r=o.find(function(t){return t.name===n});return r?r.id:null},getWarnColor:function(n){this._isInteger(n.stockWarn)&&this._isInteger(n.quantity)&&n.quantity-0<=n.stockWarn-0?this.$set(n,"isStoreOk",!1):this.$set(n,"isStoreOk",!0)},fillIn:function(n,t){var e=this;if(n){if(!this._isInteger(this.groupAdd.quantity))return!1}else!this._isInteger(t.quantity)&&this.$set(t,"quantity",0),this.getWarnColor(t);var o=void 0,i=void 0,r=this.tableData.slice(0,this.tableData.length-1);n&&(o=this.groupAdd.color?[this.groupAdd.color]:this.colors,i=this.groupAdd.size?[this.groupAdd.size]:this.sizes,r.forEach(function(n){o.includes(n.color)&&i.includes(n.size)&&e.$set(n,"quantity",e.groupAdd.quantity),e.getWarnColor(n)})),r.push({color:"总库存",size:"",quantity:this.calcQuantity(r)}),this.tableData=r},fillInStore:function(n,t){var e=this,o=n?this.groupAdd:t;if(!this._isHasVal(o.stockWarn))return!1;if("add"!==this.storeType&&!this._nonnegativeInt(o.stockWarn))return this.$set(o,"stockWarn",""),this.$message.error("库存需为非负整数"),this.getWarnColor(o),!1;if("add"===this.storeType&&!this.isPositiveInt(o.stockWarn))return this.$set(o,"stockWarn",""),this.$message.error("库存需为正整数"),this.getWarnColor(o),!1;var i=void 0,r=void 0;this.tableData.slice(0,this.tableData.length-1);n&&(i=this.groupAdd.color?[this.groupAdd.color]:this.colors,r=this.groupAdd.size?[this.groupAdd.size]:this.sizes,this.tableData.forEach(function(n){i.includes(n.color)&&r.includes(n.size)&&e.$set(n,"stockWarn",e.groupAdd.stockWarn),e.getWarnColor(n)}))},filterQuantity:function(n,t){if(this.skuVoList.length){var e=!0,o=!1,i=void 0;try{for(var r,a=s()(this.skuVoList);!(e=(r=a.next()).done);e=!0){var l=r.value;if(l.color===n){var c=l.skuVoList.filter(function(n){return n.size===t});return c.length?c[0].quantity:this.initNum}}}catch(n){o=!0,i=n}finally{try{!e&&a.return&&a.return()}finally{if(o)throw i}}}return this.initNum},objectSpanMethod:function(n){n.row,n.column;var t=n.rowIndex,e=n.columnIndex;if(!this.sizes.length)return[0,0];if(t===this.tableData.length-1){if(1===e||3===e)return{rowspan:0,colspan:0};if(2===e)return{rowspan:1,colspan:2}}return 0===e?t===this.tableData.length-1?{rowspan:1,colspan:2}:t%this.sizes.length==0?{rowspan:this.sizes.length,colspan:1}:{rowspan:0,colspan:0}:void 0}}},f={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"store_warn"}},[e("el-table",{staticStyle:{width:"98%"},attrs:{data:n.tableData,"span-method":n.objectSpanMethod,border:""}},[e("el-table-column",{attrs:{prop:"color",width:"120px"},scopedSlots:n._u([{key:"header",fn:function(t){return[e("div",{staticClass:"header_title"},[n._v("颜色")]),n._v(" "),e("div",{staticClass:"header_cont"},[e("el-select",{attrs:{size:"mini",placeholder:"颜色"},model:{value:n.groupAdd.color,callback:function(t){n.$set(n.groupAdd,"color",t)},expression:"groupAdd.color"}},[e("el-option",{attrs:{label:"全部",value:""}}),n._v(" "),n._l(n.colors,function(t,o){return e("el-option",{key:o,attrs:{value:t}},[n._v(n._s(t))])})],2)],1)]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"size",width:"120px"},scopedSlots:n._u([{key:"header",fn:function(t){return[e("div",{staticClass:"header_title"},[n._v("尺码")]),n._v(" "),e("div",{staticClass:"header_cont"},[e("el-select",{attrs:{size:"mini",placeholder:"尺码"},model:{value:n.groupAdd.size,callback:function(t){n.$set(n.groupAdd,"size",t)},expression:"groupAdd.size"}},[e("el-option",{attrs:{label:"全部",value:""}},[n._v("全部")]),n._v(" "),n._l(n.sizes,function(t,o){return e("el-option",{key:o,attrs:{value:t}},[n._v(n._s(t))])})],2)],1)]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"quantity","min-width":"100px"},scopedSlots:n._u([{key:"header",fn:function(t){return[e("div",{staticClass:"header_title"},[n._v("现有库存")]),n._v(" "),e("div",{staticClass:"header_cont"})]}},{key:"default",fn:function(t){return[e("div",{class:["warn"===n.storeType&&!1===t.row.isStoreOk&&"err_color bold"],staticStyle:{"text-align":"left"}},[n._v(n._s(t.row.quantity))])]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"quantity","min-width":"100px"},scopedSlots:n._u([{key:"header",fn:function(t){return[e("div",{staticClass:"header_title"},[n._v(n._s(n.columnTitle))]),n._v(" "),e("div",{staticClass:"header_cont"},[e("el-input",{attrs:{size:"mini",placeholder:n.columnTitle},model:{value:n.groupAdd.stockWarn,callback:function(t){n.$set(n.groupAdd,"stockWarn",n._n("string"==typeof t?t.trim():t))},expression:"groupAdd.stockWarn"}}),n._v(" "),e("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){n.fillInStore(!0)}}},[n._v("批量填充")])],1)]}},{key:"default",fn:function(t){return[e("el-input",{attrs:{size:"mini"},on:{blur:function(e){n.fillInStore(!1,t.row)}},model:{value:t.row.stockWarn,callback:function(e){n.$set(t.row,"stockWarn",e)},expression:"scope.row.stockWarn"}})]}}])})],1)],1)},staticRenderFns:[]};var u=e("VU/8")(p,f,!1,function(n){e("Mi2C")},null,null).exports,h={name:"goodList",data:function(){return{storeType:"",secShow:!1,barSetDrawer:!1,saleState:"1",lodopDownloadUrl:"",needUpdateTip:"",uploadExcelshow:!1,dialogLoading:!1,loadingText:!1,usedNum:0,totalNum:0,datas:{},drawerTitle:"",allSku:{color:{},size:{}},curRow:{skuMap:{sizeSet:[],colorSkuVoList:[],colorSet:[]}},filters:{productCode:""},users:[],total:0,pageNum:1,pageSize:10,sels:[],loading:!1,showDrawer:!1,showLeoDialog:!1,printData:[],showPrintDrawer:!1,printIds:[],printType:"spu",importInfoArr:[],timer:null}},watch:{uploadExcelshow:function(){!1===this.uploadExcelshow&&(this.importInfoArr=[],this.dialogLoading=!1,this.loadingText="",clearInterval(this.timer))}},mounted:function(){var n=this;window.LODOP?this.excuteRequest():this._loadJs("/stallManage/static/js/LodopFuncs.js",function(){n.excuteRequest()}),this.init(),this.queryData=this._debounce(this.queryData)},components:{SkuPrint:r.a,StoreWarn:u,BarSet:d},methods:{excuteRequest:function(){window.LODOP=getLodop()},init:function(){this.getUsers(!0),this.getColorAndSize()},clearFilter:function(){this.filters={productCode:"",title:"",mallState:""}},uploadSuccess:function(n){this.loadingText=n,this.dialogLoading=!0,this.timer=setInterval(this.getReadInfo,3e3)},openUploadDialog:function(){this.uploadExcelshow=!0,clearInterval(this.timer),this.getReadInfo(),this.timer=setInterval(this.getReadInfo,3e3)},getReadInfo:function(){var n=this;this.$post(this._basePath.ajaxQueryExcelUploadResult,{biz:1,program:"pcStallBackend"}).then(function(t){t.success&&(t.data&&(t.data.length?(1===t.data[0].finish?(n.dialogLoading=!1,clearInterval(n.timer)):n.dialogLoading=!0,n.loadingText=t.data[0].msg):(n.dialogLoading=!1,clearInterval(n.timer))),n.importInfoArr=t.data)})},downloadTemplate:function(){var n=this,t={stallId:this.getCookie("stallId")};this.$postJson(this._basePath.ajaxCheckDownloadGoodTemplate,t).then(function(e){e.success&&(t.token=e.data.token,n.downFile(n._basePath.ajaxDownloadGoodTemplate+"?"+n.serializeParam(t),e.data.fileName))})},downFile:function(n,t){var e=document.getElementById("tag");e.download=t;var o=new Blob([n]),i=window.URL.createObjectURL(o);e.href=n,e.click(),window.URL.revokeObjectURL(i)},queryData:function(){this.pageNum=1,this.getUsers()},stockManage:function(){var n=this,t={};if(t.productId=this.curRow.id,t.stockWarnVoList=this.$refs.goodSet.getParams(),t.type="inventory"===this.storeType?1:"add"===this.storeType?2:"warn"===this.storeType?3:"",!t.stockWarnVoList)return!1;t.totalNumber=null,this.$post(this._basePath.ajaxStallStockManage,t).then(function(t){t.success&&(n.$message.success("保存成功"),n.showDrawer=!1,n.getUsers())})},handleBarSet:function(n){this.curRow=n,this.barSetDrawer=!0},saveBarSet:function(n){var t=this,e=this.$refs.barset.getParams();if(!e)return!1;this.$post(this._basePath.ajaxUpdateSkuBarcodeById,e).then(function(n){n.success&&(t.barSetDrawer=!1,t.$message.success("设置成功"))})},handleArr:function(n){return n?n.map(function(n){return n.isSelfDefine=!0,n}):[]},getColorAndSize:function(){var n=this;this.$get(this._basePath.ajaxGoodColorSize).then(function(t){if(t.success){var e=t.data[0],o=t.data[1],i=n.handleArr(e.ownerValueList),r=n.handleArr(o.ownerValueList),a=e?(e.sysValueList||[]).concat(i):[],s=o?(o.sysValueList||[]).concat(r):[];n.$set(n.allSku,"color",a),n.$set(n.allSku,"size",s)}})},handleStoreWarn:function(n,t){var e=this;this.$postJson(this._basePath.ajaxGoodSku,{productId:n.id}).then(function(o){e.curRow=n,e.$set(e.curRow,"skuMap",o.data||{colorSet:[],colorSkuVoList:[],sizeSet:[]}),e.showDrawer=!0,e.drawerTitle="inventory"===t?"盘点库存":"add"===t?"新增库存":"warn"===t?"库存预警":"",e.storeType=t})},isLodopExist:function(){window.downloadLodopVersion&&(this.lodopDownloadUrl=window.downloadLodopVersion.downloadUrl,this.needUpdateTip=window.downloadLodopVersion&&window.downloadLodopVersion.isUpdate?"打印插件需升级":"未检测到打印所需插件")},print:function(n){var t=this;if(this.isLodopExist(),window.LODOP&&window.LODOP.VERSION){this.showLeoDialog=!0;var e=n?[n]:this.sels;this.printType="spu",this.printData=e.map(function(n){return{stallName:t.getCookie("stallName"),id:n.id,url:n.skuBarcodeUrl,productCode:n.productCode}})}else this.$confirm(this.needUpdateTip+"，是否下载？(若已安装，请刷新页面)","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){document.getElementById("plugin").click()})},excutePrint:function(){var n=this,t=this.$refs.skuPrint.getParams(),e=[];if(this.printType="sku",t.forEach(function(t){if(n.isPositiveInt(t.printNum-0))for(var o=0;o<t.printNum;o++)e.push({stallName:n.getCookie("stallName"),id:t.id,url:t.barcodeUrl,productCode:t.productCode,color:t.color,size:t.size})}),!e.length)return this.$message.error("请填写打印数量"),!1;this.showLeoDialog=!0,this.printData=e},printSku:function(n){this.isLodopExist(),window.LODOP&&window.LODOP.VERSION?(this.showPrintDrawer=!0,this.printIds=n?[n.id]:this.sels.map(function(n){return n.id})):this.$confirm(this.needUpdateTip+"，是否下载？(若已安装，请刷新页面)","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){document.getElementById("plugin").click()})},handleCurrentChange:function(n){this.pageNum=n,this.getUsers()},handleSizeChange:function(n){this.pageNum=1,this.pageSize=n,this.getUsers()},getUsers:function(){var n=this,t={pageNum:this.pageNum,pageSize:this.pageSize,saleState:this.saleState-0,orderByUpdateTime:!0},e=this.filters;this.loading=!0,this.$postJson(this._basePath.ajaxStoreGoodListByPage,i()({},t,e)).then(function(t){if(n.loading=!1,t.success){n.total=t.data.count;var e=t.data.datas;e.forEach(function(n){n.codeEdit=!1,n.priceEdit=!1,n.storeEdit=!1}),n.users=e}})},selsChange:function(n){this.sels=n}}},b={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("section",{staticClass:"app-container",attrs:{id:"store_manage"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!n.secShow,expression:"!secShow"}]},[e("a",{staticStyle:{height:"0"},attrs:{id:"plugin",href:"http://www.lodop.net/demolist/"+n.lodopDownloadUrl+".zip"}}),n._v(" "),e("a",{staticStyle:{height:"0"},attrs:{id:"tag"}}),n._v(" "),e("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[e("el-form",{attrs:{inline:!0,model:n.filters},nativeOn:{submit:function(n){n.preventDefault()}}},[e("el-form-item",{attrs:{label:"商品货号"}},[e("el-input",{attrs:{placeholder:"请输入商品货号"},model:{value:n.filters.productCode,callback:function(t){n.$set(n.filters,"productCode",t)},expression:"filters.productCode"}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:n.queryData}},[n._v("查询")]),n._v(" "),e("el-button",{attrs:{type:"text",plain:""},on:{click:n.clearFilter}},[n._v("清空筛选条件")])],1)],1),n._v(" "),e("el-tabs",{staticClass:"switch_tabs",on:{"tab-click":n.queryData},model:{value:n.saleState,callback:function(t){n.saleState=t},expression:"saleState"}},[e("el-tab-pane",{attrs:{label:"出售中的商品",name:"1"}}),n._v(" "),e("el-tab-pane",{attrs:{label:"仓库中的商品",name:"-1"}}),n._v(" "),e("span",{staticClass:"good_tips"},[n._v("提示：若商品库存到达预警值，则商品会出现提示，可点击查看详细的库存情况。")])],1),n._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:"1"===n.saleState,expression:"saleState === '1'"}],staticClass:"process_btns fl"},[e("el-button",{attrs:{type:"primary",disabled:0===this.sels.length},on:{click:function(t){n.print()}}},[n._v("批量打印spu")]),n._v(" "),e("el-button",{attrs:{type:"primary",disabled:0===this.sels.length},on:{click:function(t){n.printSku()}}},[n._v("批量打印sku")])],1)]),n._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:"1"===n.saleState,expression:"saleState === '1'"}],staticClass:"process_btns fr"},[e("el-button",{attrs:{type:"primary"},on:{click:n.openUploadDialog}},[n._v("导入条码")]),n._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(t){n.downloadTemplate()}}},[n._v("下载条码模板")])],1)])],1),n._v(" "),e("record-count",{attrs:{total:n.total}}),n._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:n.users,"highlight-current-row":""},on:{"selection-change":n.selsChange}},[e("el-table-column",{attrs:{type:"selection",width:"45"}}),n._v(" "),e("el-table-column",{attrs:{prop:"imgUrl_main",label:"图片",width:"70px"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("img",{staticStyle:{"max-width":"50px","max-height":"50px"},attrs:{src:t.row.imgUrl_main}}),n._v(" "),t.row.stockWarn?e("div",{staticClass:"good_tip"},[e("i",[n._v("缺")])]):n._e()]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"productCode",label:"商品货号","min-width":"150px"}}),n._v(" "),e("el-table-column",{attrs:{prop:"totalNumber",label:"当前库存","min-width":"110px"}}),n._v(" "),e("el-table-column",{attrs:{label:"操作","min-width":"320px",fixed:"right"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){n.handleStoreWarn(t.row,"inventory")}}},[n._v("盘点库存")]),n._v(" "),e("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){n.handleStoreWarn(t.row,"add")}}},[n._v("新增入库")]),n._v(" "),e("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){n.handleStoreWarn(t.row,"warn")}}},[n._v("库存预警")]),n._v(" "),"1"===n.saleState?e("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){n.handleBarSet(t.row)}}},[n._v("条码设置")]):n._e()]}}])})],1),n._v(" "),e("div",{staticClass:"page_toolbar"},[e("el-pagination",{attrs:{layout:"prev, pager, next,  jumper, sizes, total","prev-text":"上一页","next-text":"下一页",background:"","current-page":n.pageNum,"page-sizes":[10,20,30,50],"page-size":n.pageSize,total:n.total},on:{"current-change":n.handleCurrentChange,"size-change":n.handleSizeChange}})],1)],1),n._v(" "),e("Drawer",{attrs:{title:n.drawerTitle},model:{value:n.showDrawer,callback:function(t){n.showDrawer=t},expression:"showDrawer"}},[e("store-warn",{ref:"goodSet",attrs:{allSku:n.allSku,sizes:n.curRow.skuMap?n.curRow.skuMap.sizeSet:[],isAccurate:!0,curRow:n.curRow,storeType:n.storeType,minWidth:"780px",colors:n.curRow.skuMap?n.curRow.skuMap.colorSet:[],skuVoList:n.curRow.skuMap?n.curRow.skuMap.colorSkuVoList:[]}}),n._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer","slot-name":"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:n.stockManage}},[n._v("确 定")])],1)],1),n._v(" "),e("Drawer",{attrs:{minWidth:"750px",title:"编辑sku条码打印数量"},model:{value:n.showPrintDrawer,callback:function(t){n.showPrintDrawer=t},expression:"showPrintDrawer"}},[e("SkuPrint",{ref:"skuPrint",attrs:{slot:"header",printIds:n.printIds},slot:"header"}),n._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer","slot-name":"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:n.excutePrint}},[n._v("打印")])],1)],1),n._v(" "),e("Drawer",{attrs:{minWidth:"750px",title:"条码设置"},model:{value:n.barSetDrawer,callback:function(t){n.barSetDrawer=t},expression:"barSetDrawer"}},[e("BarSet",{ref:"barset",attrs:{curRow:n.curRow}}),n._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer","slot-name":"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:n.saveBarSet}},[n._v("确定")])],1)],1),n._v(" "),e("el-dialog",{attrs:{title:"导入商品条码",visible:n.uploadExcelshow,center:"",width:"600px"},on:{"update:visible":function(t){n.uploadExcelshow=t}}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:n.dialogLoading,expression:"dialogLoading"}],attrs:{"element-loading-text":n.loadingText,"element-loading-spinner":"el-icon-loading"}},[e("div",{staticClass:"center"},[n._v("请确保表格内已填入需要导入的商品条码")]),n._v(" "),e("div",{staticClass:"submit_btn"},[e("UploadFile",{on:{uploadSuccess:n.uploadSuccess}})],1),n._v(" "),e("div",{staticClass:"info_wrap"},[e("p",[n._v("最近导入结果：")]),n._v(" "),e("ul",{staticClass:"info_list"},n._l(n.importInfoArr,function(t,o){return e("li",{key:o,domProps:{innerHTML:n._s(t.msg.replace(/\n/g,"<br>"))}},[n._v("}")])}))])])]),n._v(" "),n.showLeoDialog?e("leo-lodop",{attrs:{printData:n.printData,printType:n.printType},model:{value:n.showLeoDialog,callback:function(t){n.showLeoDialog=t},expression:"showLeoDialog"}}):n._e()],1)},staticRenderFns:[]};var m=e("VU/8")(h,b,!1,function(n){e("DjPw")},null,null);t.default=m.exports},Uv9O:function(n,t,e){var o=e("EBkK");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);e("rjj0")("4e1d9650",o,!0)},VKZL:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+e("41FU")+") ;\n  src: url("+e("41FU")+"#iefix) format('embedded-opentype'), url("+e("AmmJ")+") format('woff'), url("+e("gjvD")+") format('truetype'), url("+e("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#skuPrint {\n  height: 100%;\n}\n#skuPrint .el-form-item__error {\n  padding-top: 0;\n}\n#skuPrint .el-form-item {\n  margin-bottom: 10px;\n}\n#skuPrint .el-table tr.hidden {\n  display: none;\n}\n",""])},r6WG:function(n,t,e){var o=e("VKZL");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);e("rjj0")("b6725f10",o,!0)}});