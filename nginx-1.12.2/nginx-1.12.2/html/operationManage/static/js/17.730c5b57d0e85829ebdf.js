webpackJsonp([17],{"1nZ6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("mtWM");var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"app-container",attrs:{id:"areaList"}},[t.secShow?t._e():[n("el-tabs",{staticClass:"switch_btn",on:{"tab-click":t.switchPane},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"档口提现审核",name:"stall"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"采购端提现审核",name:"buyer"}})],1),t._v(" "),n("div",[n("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[n("el-form",{attrs:{inline:!0,model:t.filters},nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-form-item",{attrs:{label:"下单时间"}},[n("date-pick",{ref:"dateFilter",on:{dateChange:function(e){t.isChange++}},model:{value:t.reset,callback:function(e){t.reset=e},expression:"reset"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"stall"===t.activeName?"档口ID":"buyer"===t.activeName?"采购方ID":""}},[n("el-input",{attrs:{placeholder:"请输入ID"},model:{value:t.filters.id,callback:function(e){t.$set(t.filters,"id",e)},expression:"filters.id"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.queryData}},[t._v("查询")]),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:t.clearSearch}},[t._v("清空筛选条件")])],1)],1),t._v(" "),n("filter-list",{ref:"filterBtn",attrs:{filterList:t.filterList},on:{filterChange:t.queryData}})],1),t._v(" "),n("record-count",{attrs:{total:t.total}},[n("div",{staticClass:"export_file"},[n("h3",[t._v("导出订单: ")]),t._v(" "),n("div",{staticClass:"svg_wrap"},[n("a",{attrs:{href:t.downloadUrl}},[n("span",[n("svg",{staticClass:"icon svg-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#iconexcel"}})]),t._v(" "),n("i",[t._v("Excel格式")])])])])])]),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.users,"highlight-current-row":""}},[n("el-table-column",{attrs:{prop:"createTime",label:"申请时间",formatter:t.formateModifyTime}}),t._v(" "),n("el-table-column",{scopedSlots:t._u([{key:"header",fn:function(e){return[t._v("\n              "+t._s("stall"===t.activeName?"档口ID":"buyer"===t.activeName?"采购方ID":"")+"\n            ")]}},{key:"default",fn:function(e){return[t._v("\n              "+t._s("stall"===t.activeName?e.row.stallId:"buyer"===t.activeName?e.row.userId:"")+"\n            ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"orderCode",label:"提现订单号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"type",label:"提现渠道",formatter:t.formatType}}),t._v(" "),n("el-table-column",{attrs:{prop:"account",label:"提现账号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"amount",label:"提现金额（元）"}}),t._v(" "),n("el-table-column",{attrs:{prop:"serviceCharge",label:"提现手续费（元）"}}),t._v(" "),n("el-table-column",{attrs:{prop:"status",label:"提现状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{class:t.formatStatus(e.row,!0)},[t._v(t._s(t.formatStatus(e.row)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"operateDesc",label:"备注"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(n){t.handleCheck(e.row)}}},[t._v("审核")])]}}])})],1),t._v(" "),n("div",{staticClass:"page_toolbar"},[n("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","current-page":t.pageNum,"page-size":t.pageSize,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)],t._v(" "),n("Secondary",{attrs:{title:"提现详情"},model:{value:t.secShow,callback:function(e){t.secShow=e},expression:"secShow"}},[t.secShow?[n("div",{staticClass:"details_title"},[n("h3",{staticClass:"fn20",class:t.formatStatus(t.editForm,!0)},[t._v(t._s(t.formatStatus(t.editForm)))]),t._v(" "),"RETREAT"===t.editForm.status?n("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":300,placement:"top-start"}},[n("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n              "+t._s(t.editForm.retreatTitle)+"\n              "),n("br"),t._v("\n              "+t._s(t.editForm.retreatDesc)+"\n            ")]),t._v(" "),n("span",{staticClass:"icon light_color tips"},[t._v("")])]):t._e()],1),t._v(" "),n("el-form",{ref:"editForm",staticClass:"sec_el_form",attrs:{model:t.editForm,inline:!0,"label-width":"100px"}},[void 0!==t.editForm.id?n("el-form-item",{attrs:{label:"提现商户ID: "}},[t._v("\n            "+t._s("stall"===t.activeName?t.editForm.stallId:"buyer"===t.activeName?t.editForm.userId:"")+"\n          ")]):t._e(),t._v(" "),n("el-form-item",{attrs:{label:"提现订单号: "}},[t._v("\n            "+t._s(t.editForm.orderCode||"—")+"\n          ")]),t._v(" "),n("el-form-item",{attrs:{label:"提现渠道: "}},[t._v("\n            "+t._s(t.formatType(t.editForm))+"\n          ")]),t._v(" "),"zfb"===t.editForm.type?[n("el-form-item",{attrs:{label:"提现账号: "}},[t._v("\n              "+t._s(t.editForm.account||"—")+"\n            ")]),t._v(" "),n("el-form-item",{attrs:{label:"真实姓名: "}},[t._v("\n              "+t._s(t.editForm.payBindingVo&&t.editForm.payBindingVo.realName)+"\n            ")])]:t._e(),t._v(" "),"wx"===t.editForm.type?[n("el-form-item",{attrs:{label:"APPID: "}},[t._v("\n              "+t._s(t.editForm.APPID||"—")+"\n            ")]),t._v(" "),n("el-form-item",{attrs:{label:"OPENID: "}},[t._v("\n              "+t._s(t.editForm.OPENID||"—")+"\n            ")])]:t._e(),t._v(" "),"bank"===t.editForm.type?[n("el-form-item",{attrs:{label:"银行名称: "}},[t._v("\n              "+t._s(t.editForm.payBindingVo&&t.editForm.payBindingVo.bankName)+"\n            ")]),t._v(" "),n("el-form-item",{attrs:{label:"开户人姓名: "}},[t._v("\n              "+t._s(t.editForm.payBindingVo&&t.editForm.payBindingVo.realName)+"\n            ")]),t._v(" "),n("el-form-item",{attrs:{label:"提现银行卡号: "}},[t._v("\n              "+t._s(t.editForm.payBindingVo&&t.editForm.payBindingVo.account)+"\n            ")])]:t._e(),t._v(" "),n("el-form-item",{attrs:{label:"提现金额: "}},[t._v("\n            "+t._s(t.editForm.amount)+"\n          ")]),t._v(" "),n("el-form-item",{attrs:{label:"提现手续费: "}},[t._v("\n            "+t._s(t.editForm.serviceCharge)+"\n          ")]),t._v(" "),n("el-form-item",{attrs:{label:"实际到账金额: "}},[t._v("\n            "+t._s(t.editForm.amount-t.editForm.serviceCharge||"—")+"\n          ")]),t._v(" "),n("el-form-item",{attrs:{label:"运营备注: "}},[n("div",[n("el-input",{attrs:{type:"textarea",disabled:!t.isEditRemark},model:{value:t.editForm.operateDesc,callback:function(e){t.$set(t.editForm,"operateDesc",e)},expression:"editForm.operateDesc"}}),t._v(" "),t.isEditRemark?t._e():n("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){t.isEditRemark=!0}}},[t._v("编辑")]),t._v(" "),t.isEditRemark?n("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.saveRemark}},[t._v("保存")]):t._e(),t._v(" "),t.isEditRemark?n("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){t.isEditRemark=!1}}},[t._v("取消")]):t._e()],1)]),t._v(" "),"SUBMIT"===t.editForm.status?n("div",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.disabledArea(t.editForm,"PASS")}}},[t._v("审核通过")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.openDialog}},[t._v("审核不通过")])],1):t._e()],2)]:t._e()],2),t._v(" "),n("el-dialog",{attrs:{title:"审核不通过-原因说明",visible:t.dialogShow,width:"600px",center:""},on:{"update:visible":function(e){t.dialogShow=e}}},[n("div",{staticClass:"dialog_wrap"},[n("el-select",{model:{value:t.editForm.retreatTitle,callback:function(e){t.$set(t.editForm,"retreatTitle",e)},expression:"editForm.retreatTitle"}},t._l(t.reasons,function(t,e){return n("el-option",{key:e,attrs:{label:t.content,value:t.content}})})),t._v(" "),n("el-input",{staticClass:"textarea_input",staticStyle:{"margin-top":"30px"},attrs:{type:"textarea"},model:{value:t.editForm.retreatDesc,callback:function(e){t.$set(t.editForm,"retreatDesc",e)},expression:"editForm.retreatDesc"}})],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{nativeOn:{click:function(e){t.dialogShow=!1}}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.disabledArea(t.editForm,"RETREAT")}}},[t._v("确定")])],1)])],2)},staticRenderFns:[]};var i=n("VU/8")({data:function(){return{secShow:!1,reset:!1,loading:!1,retreatTitle:"商户号余额不足",isChange:0,reasons:[{content:"商户号余额不足"},{content:"网络繁忙"},{content:"银行信息有误"},{content:"账户存在安全隐患"}],retreatDesc:"",total:0,dialogShow:!1,activeName:"stall",pageNum:1,pageSize:10,isEditRemark:!1,filters:{id:""},filterList:[{name:"全部",filters:{status:null}},{name:"审核通过",filters:{status:"PASS"}},{name:"处理中",filters:{status:"SUBMIT"}},{name:"审核驳回",filters:{status:"RETREAT"}}],users:[],editForm:{}}},computed:{downloadUrl:function(){this.isChange;var t=this.$refs.dateFilter?this.$refs.dateFilter.getParams():[],e=this.$refs.filterBtn?this.$refs.filterBtn.getParams():{},n={pageSize:this.pageSize,pageNum:this.pageNum,userType:this.activeName};return t[0]&&(n.startTime=t[0]),t[1]&&(n.endTime=t[1]),e.status&&(n.status=e.status),this.filters.id&&("stall"===this.activeName?n.stallId=this.filters.id:"buyer"===this.activeName&&(n.userId=this.filters.id)),this._basePath.ajaxOperationExport+"?"+this.serializeParam(n)}},mounted:function(){this.init()},methods:{init:function(){this.getUsers()},clearSearch:function(){this.reset=!0,this.$set(this.filters,"id","")},queryData:function(){this.pageNum=1,this.isChange++,this.getUsers()},handleCheck:function(t){this.editForm=t,this.secShow=!0},saveRemark:function(){var t=this,e={id:this.editForm.id,operateDesc:this.editForm.operateDesc};this.$postJson(this._basePath.ajaxOperateUpdateRemark,e).then(function(e){e.success&&(t.isEditRemark=!1)})},formatType:function(t){return"wx"===t.type?"微信":"zfb"===t.type?"支付宝":"bank"===t.type?"银行":"—"},formatStatus:function(t,e){var n=t.status;return e?"SUBMIT"===n?"warn_color":"FAIL"===n?"err_color":"SUCCESS"===n?"success_color":"RETREAT"===n?"err_color":"PASS"===n?"success_color":"":"SUBMIT"===n?"处理中":"FAIL"===n?"提现失败":"SUCCESS"===n?"提现成功":"RETREAT"===n?"审核驳回":"PASS"===n?"审核通过":"—"},formateModifyTime:function(t){return this._formatTime(t.modifyTime,!0)||"—"},switchPane:function(){this.clearSearch(),this.queryData()},handleCurrentChange:function(t){this.pageNum=t,this.getUsers()},getUsers:function(){var t=this,e={pageNum:this.pageNum,pageSize:this.pageSize},n=this.$refs.dateFilter&&this.$refs.dateFilter.getParams()||[],a=this.$refs.filterBtn?this.$refs.filterBtn.getParams():{};e.startTime=n[0],e.endTime=n[1],e.status=a.status,e.userType=this.activeName,this.filters.id&&("stall"===this.activeName?e.stallId=this.filters.id:"buyer"===this.activeName&&(e.userId=this.filters.id)),this.loading=!0,this.$postJson(this._basePath.ajaxOperateWithdrawListByPage,e).then(function(e){t.loading=!1,e.success&&(t.total=e.data.count,t.users=e.data.datas)})},openDialog:function(){this.dialogShow=!0},disabledArea:function(t,e){var n=this;if("RETREAT"===e){var a={id:t.id,status:e,retreatDesc:this.editForm.retreatDesc,retreatTitle:this.editForm.retreatTitle,operateDesc:this.editForm.operateDesc};this.$post(this._basePath.ajaxOperateSetWithdrawStatus,a).then(function(t){t.success&&(n.getUsers(),n.dialogShow=!1,n.secShow=!1,n.$message.success("拒绝成功！"))})}else"PASS"===e&&this.$post(this._basePath.ajaxOperateSetWithdrawStatus,{id:t.id,status:e}).then(function(t){t.success&&(n.$message.success("通过成功！"),n.secShow=!1,n.getUsers())})}}},a,!1,function(t){n("9NG5")},null,null);e.default=i.exports},"9NG5":function(t,e,n){var a=n("NTVp");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("7654af7c",a,!0)},NTVp:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.fn10 {\n  font-size: 10px;\n}\n.fn12 {\n  font-size: 12px;\n}\n.fn14 {\n  font-size: 14px;\n}\n.fn16 {\n  font-size: 16px;\n}\n.fn18 {\n  font-size: 18px;\n}\n.fn20 {\n  font-size: 20px;\n}\n.fn22 {\n  font-size: 22px;\n}\n.fn24 {\n  font-size: 24px;\n}\n.fn26 {\n  font-size: 26px;\n}\n.fn28 {\n  font-size: 28px;\n}\n.fn30 {\n  font-size: 30px;\n}\n.fn32 {\n  font-size: 32px;\n}\n.cursor {\n  cursor: pointer;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.title_public {\n  padding: 12px 0 18px 0;\n  font-size: 18px;\n  color: #0c0c0d;\n  border-bottom: solid 1px #e3e5e6;\n}\n.text_color {\n  color: #409eff;\n}\n.light_color {\n  color: #e3e4e6;\n}\n.err_color {\n  color: #f56c6c;\n}\n.suc_color {\n  color: #09bb07;\n}\n.center {\n  text-align: center;\n}\n.set_middle {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.set_start {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.set_between {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.set_around {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n      justify-content: space-around;\n}\n.set_column {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.page_toolbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.table_records {\n  background-color: #bae7ff;\n  height: 50px;\n  float: left;\n  line-height: 50px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  width: 100%;\n  padding-left: 15px;\n}\n.table_records:before {\n  display: table;\n  content: '';\n}\n.table_records i {\n  color: #409eff;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  padding: 0 12px !important;\n}\n.secondary_form {\n  width: 500px;\n}\n.secondary_form .el-cascader {\n  width: 100%;\n}\n.boxshadow {\n  -webkit-box-shadow: 0 0 5px 1px #ddd;\n          box-shadow: 0 0 5px 1px #ddd;\n}\n.drawer_form {\n  width: 500px;\n}\n.block {\n  display: block;\n}\n.indent {\n  text-indent: 30px;\n}\n.dotted_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding-top: 20px;\n  border-top: 1px dashed #ddd;\n}\n.dotted_line .other_item {\n  font-weight: bold;\n}\n.bold {\n  font-weight: bold;\n}\n.process_btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  margin-bottom: 20px;\n}\n.border_ {\n  border: 1px solid #ddd;\n}\n.line_through {\n  text-decoration: line-through;\n}\n#app .el-badge__content {\n  border: none;\n}\n.toolbar .el-form--inline .el-form-item__label {\n  padding-right: 8px;\n}\n.el-badge__content.is-fixed {\n  z-index: 99;\n}\nhtml,\nbody,\ndiv,\nspan,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\npre,\na,\nem,\nimg,\ni,\nol,\nul,\nfieldset,\nform,\nlabel,\ntable,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\ncanvas,\nfooter,\nheader,\nsection,\naudio,\nvideo {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n  padding: 0;\n}\nli {\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  margin: 0;\n}\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nol,\nul {\n  list-style: none;\n}\ninput,\nbutton,\nselect,\ntextarea {\n  outline: none;\n  -webkit-appearance: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nbody,\nhtml {\n  font-family: 'Microsoft Yahei', 'Source Sans Pro', 'sans-serif';\n  line-height: 1;\n  height: 100%;\n  font-size: 14px;\n}\ni {\n  font-style: normal;\n}\n.err_color {\n  color: #f56c6c;\n}\n.success_color {\n  color: #67c23a;\n}\n.warn_color {\n  color: #e6a23c;\n}\n.light_color {\n  color: #909399;\n}\n.info_color {\n  color: #909399;\n}\n@font-face {\n  font-family: \"iconfont\";\n  src: url("+n("41FU")+") ;\n  src: url("+n("41FU")+"#iefix) format('embedded-opentype'), url("+n("AmmJ")+") format('woff'), url("+n("gjvD")+") format('truetype'), url("+n("xCPn")+"#iconfont) format('svg') ;\n}\n.icon {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n#areaList .export_file {\n  float: right;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#areaList .export_file .svg_wrap {\n  margin-left: 10px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#areaList .export_file .svg_wrap span {\n  cursor: pointer;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  font-size: 12px;\n  margin: 0 5px;\n}\n#areaList .export_file .svg_wrap span .svg-icon {\n  width: 20px;\n  height: 20px;\n}\n#areaList .withdraw_tip .el-form-item__content {\n  line-height: 20px;\n}\n#areaList .textarea_input textarea {\n  height: 100px;\n}\n#areaList .switch_btn {\n  margin-bottom: 10px;\n}\n#areaList .switch_btn .el-tabs__item {\n  font-size: 18px;\n}\n#areaList .sec_el_form .el-form-item {\n  width: 48%;\n}\n#areaList .details_title {\n  background-color: #eee;\n  padding: 20px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#areaList .details_title h3 {\n  margin-right: 10px;\n}\n#areaList .building_title {\n  margin-top: 10px;\n  margin-bottom: 20px;\n}\n#areaList .building_title i {\n  font-size: 20px;\n  font-weight: bold;\n}\n#areaList .toolbar_process {\n  margin-top: 20px;\n}\n",""])}});