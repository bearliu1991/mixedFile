webpackJsonp([5],{"3sPO":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("woOf"),o=s.n(a),i={data:function(){return{secShow:!1,dialogStatus:"create",textMap:{update:"编辑颜色",create:"新增颜色"},colorDefault:null,users:[],stallList:[],total:0,pageNum:1,pageSize:10,sels:[],businessFormRules:{name:[{required:!0,validator:this.noEmpty,message:"请输入默认快递公司名称",trigger:"blur"}],logo:[{required:!0,validator:this.noEmpty,message:"请上传公司logo",trigger:"blur"}],phone:[{required:!0,validator:this.noEmpty,message:"快递公司电话不能为空",trigger:"blur"}],code:[{required:!0,validator:this.noEmpty,message:"快递公司编码不能为空",trigger:"blur"}]},businessForm:{name:"",logo:"",code:"",phone:"",status:1}}},created:function(){this.init()},methods:{init:function(){this.getUsers()},formatStatus:function(t){return 1===t.status?"开启":"禁用"},handleCurrentChange:function(t){this.pageNum=t,this.getUsers()},setImgList:function(t){this.$set(this.businessForm,"logo",t[0])},disabledArea:function(t){var e=this;if(1===t.status){var s=this;this.$confirm("确定禁用该颜色吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$postJson(e._basePath.ajaxLogisticsEnable,{id:t.id,status:0}).then(function(t){t.success&&(e.$message.success("禁用成功！"),s.getUsers())})})}else this.$postJson(this._basePath.ajaxLogisticsEnable,{id:t.id,status:1}).then(function(t){t.success&&(e.$message.success("启用成功！"),e.getUsers())})},getUsers:function(){var t=this,e={pageNum:this.pageNum,pageSize:this.pageSize};this.$postJson(this._basePath.ajaxLogisticsByPage,e).then(function(e){e.success&&(t.total=e.data.count,t.users=e.data.datas)})},showAddBusiness:function(){this.secShow=!0,this.dialogStatus="create",this.businessForm={name:"",logo:"",code:"",phone:"",status:1}},getBusinessDetail:function(t){this.secShow=!0,this.dialogStatus="update",this.businessForm=o()({},t)},tradeAreaEdit:function(){var t=this;this.$refs.businessForm.validate(function(e){if(e){var s=o()({},t.businessForm);t.$post(t._basePath.ajaxLogisticsSave,s).then(function(e){e.success&&(t.$message.success("操作成功"),t.getUsers(),t.secShow=!1)})}})},selsChange:function(t){this.sels=t}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"app-container",attrs:{id:"areaList"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.secShow,expression:"!secShow"}]},[s("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[s("div",{staticClass:"process_btns"},[s("el-button",{attrs:{type:"primary"},on:{click:t.showAddBusiness}},[t._v("新增快递公司")])],1)]),t._v(" "),s("record-count",{attrs:{total:t.total}}),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.users,"highlight-current-row":""},on:{"selection-change":t.selsChange}},[s("el-table-column",{attrs:{prop:"name",label:"快递公司名称"}}),t._v(" "),s("el-table-column",{attrs:{prop:"logo",label:"logo"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{attrs:{width:"60px",height:"60px",src:t.row.logo}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"code",label:"快递公司编号"}}),t._v(" "),s("el-table-column",{attrs:{prop:"phone",label:"客服电话"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",width:"320px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(s){t.getBusinessDetail(e.row)}}},[t._v("编辑")]),t._v(" "),1===e.row.status?s("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(s){t.disabledArea(e.row)}}},[t._v("禁用")]):t._e(),t._v(" "),0===e.row.status?s("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(s){t.disabledArea(e.row)}}},[t._v("启用")]):t._e()]}}])})],1),t._v(" "),s("div",{staticClass:"page_toolbar"},[s("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","page-size":t.pageSize,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),s("Secondary",{attrs:{title:t.textMap[t.dialogStatus]},model:{value:t.secShow,callback:function(e){t.secShow=e},expression:"secShow"}},[t.secShow?s("el-form",{ref:"businessForm",staticClass:"secondary_form",attrs:{model:t.businessForm,"label-width":"120px",rules:t.businessFormRules}},[s("el-form-item",{attrs:{label:"快递公司名称",prop:"name"}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入公司名称"},model:{value:t.businessForm.name,callback:function(e){t.$set(t.businessForm,"name",e)},expression:"businessForm.name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"logo",prop:"logo"}},[s("good-img-upload",{attrs:{imgUrl_main:t.businessForm.logo,isGroup:!1,mainTitle:"快递公司logo"},on:{uploadImg:t.setImgList}})],1),t._v(" "),s("el-form-item",{attrs:{label:"快递公司编码",prop:"code"}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入公司名称"},model:{value:t.businessForm.code,callback:function(e){t.$set(t.businessForm,"code",e)},expression:"businessForm.code"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"客服电话",prop:"phone"}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入公司名称"},model:{value:t.businessForm.phone,callback:function(e){t.$set(t.businessForm,"phone",e)},expression:"businessForm.phone"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"开启状态"}},[s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},model:{value:t.businessForm.status,callback:function(e){t.$set(t.businessForm,"status",e)},expression:"businessForm.status"}})],1),t._v(" "),s("el-form-item",[s("el-button",{nativeOn:{click:function(e){t.secShow=!1}}},[t._v("取消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.tradeAreaEdit}},[t._v("保存")])],1)],1):t._e()],1)],1)},staticRenderFns:[]};var r=s("VU/8")(i,n,!1,function(t){s("gg15")},"data-v-ec519e9c",null);e.default=r.exports},gg15:function(t,e,s){var a=s("sayF");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("2066234d",a,!0)},sayF:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"\n#areaList .secondary_form .el-cascader[data-v-ec519e9c] {\n  width: 100%;\n}\n#areaList .building_title[data-v-ec519e9c] {\n  margin-top: 10px;\n  margin-bottom: 20px;\n}\n#areaList .building_title i[data-v-ec519e9c] {\n  font-size: 20px;\n  font-weight: bold;\n}\n#areaList .toolbar_process[data-v-ec519e9c] {\n  margin-top: 20px;\n}\n",""])}});