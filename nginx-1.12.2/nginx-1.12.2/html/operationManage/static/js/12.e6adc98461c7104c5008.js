webpackJsonp([12],{"2lN7":function(t,e,s){var a=s("7Xwe");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("3ea7eeee",a,!0)},"7Xwe":function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"\n#areaList .secondary_form .el-cascader[data-v-43ba6860] {\n  width: 100%;\n}\n#areaList .building_title[data-v-43ba6860] {\n  margin-top: 10px;\n  margin-bottom: 20px;\n}\n#areaList .building_title i[data-v-43ba6860] {\n  font-size: 20px;\n  font-weight: bold;\n}\n#areaList .toolbar_process[data-v-43ba6860] {\n  margin-top: 20px;\n}\n",""])},siue:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("woOf"),r=s.n(a),i={data:function(){return{secShow:!1,dialogStatus:"create",textMap:{update:"编辑尺寸",create:"新增尺寸"},colorDefault:null,users:[],stallList:[],total:0,pageNum:1,pageSize:10,sels:[],businessFormRules:{name:[{required:!0,validator:this.noEmpty,message:"请输入默认尺寸名称",trigger:"blur"},{required:!0,validator:this.lessThan10,message:"尺寸名称不超过10个字符",trigger:"blur"}],order:[{required:!0,validator:this.mustNumber,message:"尺寸序号需为数字",trigger:"blur"}]},businessForm:{name:"",order:"",status:1}}},created:function(){this.init()},methods:{init:function(){this.getUsers()},formatStatus:function(t){return 1===t.status?"开启":"禁用"},handleCurrentChange:function(t){this.pageNum=t,this.getUsers()},disabledArea:function(t){var e=this;if(1===t.status){var s=this;this.$confirm("确定禁用该尺寸吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$postJson(e._basePath.ajaxOperateSkuStatus,{id:t.id,status:0,propertyId:2}).then(function(t){t.success&&(e.$message.success("禁用成功！"),s.getUsers())})})}else this.$postJson(this._basePath.ajaxOperateSkuStatus,{id:t.id,status:1,propertyId:2}).then(function(t){t.success&&(e.$message.success("启用成功！"),e.getUsers())})},getUsers:function(){var t=this,e={pageNum:this.pageNum,pageSize:this.pageSize,propertyId:2};this.$postJson(this._basePath.ajaxOperateSkuByPage,e).then(function(e){e.success&&(t.total=e.data.count,t.users=e.data.datas)})},showAddBusiness:function(){this.secShow=!0,this.dialogStatus="create",this.businessForm={name:"",order:"",status:1}},getBusinessDetail:function(t){this.secShow=!0,this.dialogStatus="update",this.businessForm=r()({},t)},tradeAreaEdit:function(){var t=this;this.$refs.businessForm.validate(function(e){if(e){var s=r()({},t.businessForm);s.propertyId=2,t.$post(t._basePath.ajaxOperateSkuSave,s).then(function(e){e.success&&(t.$message.success("操作成功"),t.getUsers(),t.secShow=!1)})}})},selsChange:function(t){this.sels=t}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"app-container",attrs:{id:"areaList"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.secShow,expression:"!secShow"}]},[s("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[s("div",{staticClass:"process_btns"},[s("el-button",{attrs:{type:"primary"},on:{click:t.showAddBusiness}},[t._v("新增商品尺寸")])],1)]),t._v(" "),s("record-count",{attrs:{total:t.total}}),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.users,"highlight-current-row":""},on:{"selection-change":t.selsChange}},[s("el-table-column",{attrs:{type:"selection",width:"35px"}}),t._v(" "),s("el-table-column",{attrs:{prop:"id",label:"默认尺寸ID"}}),t._v(" "),s("el-table-column",{attrs:{prop:"name",label:"尺寸名称"}}),t._v(" "),s("el-table-column",{attrs:{prop:"order",label:"排序号"}}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态",formatter:t.formatStatus}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",width:"320px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(s){t.getBusinessDetail(e.row)}}},[t._v("编辑")]),t._v(" "),1===e.row.status?s("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(s){t.disabledArea(e.row)}}},[t._v("禁用")]):t._e(),t._v(" "),0===e.row.status?s("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(s){t.disabledArea(e.row)}}},[t._v("启用")]):t._e()]}}])})],1),t._v(" "),s("div",{staticClass:"page_toolbar"},[s("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","page-size":t.pageSize,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),s("Secondary",{attrs:{title:t.textMap[t.dialogStatus]},model:{value:t.secShow,callback:function(e){t.secShow=e},expression:"secShow"}},[s("el-form",{ref:"businessForm",staticClass:"secondary_form",attrs:{model:t.businessForm,"label-width":"120px",rules:t.businessFormRules}},[s("el-form-item",{attrs:{label:"默认尺寸名称",prop:"name"}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入尺寸名称"},model:{value:t.businessForm.name,callback:function(e){t.$set(t.businessForm,"name",e)},expression:"businessForm.name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"尺寸序号",prop:"order"}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入尺寸序号"},model:{value:t.businessForm.order,callback:function(e){t.$set(t.businessForm,"order",e)},expression:"businessForm.order"}}),t._v("\n             "),s("span",{staticClass:"light_color"},[t._v("(控制尺寸排序)")])],1),t._v(" "),s("el-form-item",{attrs:{label:"开启状态"}},[s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},model:{value:t.businessForm.status,callback:function(e){t.$set(t.businessForm,"status",e)},expression:"businessForm.status"}})],1),t._v(" "),s("el-form-item",[s("el-button",{nativeOn:{click:function(e){t.secShow=!1}}},[t._v("取消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.tradeAreaEdit}},[t._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var o=s("VU/8")(i,n,!1,function(t){s("2lN7")},"data-v-43ba6860",null);e.default=o.exports}});