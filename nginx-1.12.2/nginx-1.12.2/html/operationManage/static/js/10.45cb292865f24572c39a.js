webpackJsonp([10],{"1f9s":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("woOf"),i=s.n(a),n={data:function(){return{secShow:!1,dialogStatus:"create",textMap:{update:"编辑颜色",create:"新增颜色"},colorDefault:null,users:[],stallList:[],total:0,pageNum:1,pageSize:10,sels:[],businessFormRules:{name:[{required:!0,validator:this.noEmpty,message:"请输入默认颜色名称",trigger:"blur"}],icon:[{required:!0,validator:this.noEmpty,message:"请选择颜色色值",trigger:"blur"}],order:[{required:!0,validator:this.mustNumber,message:"颜色序号需为数字",trigger:"blur"}]},businessForm:{name:"",order:"",icon:"",status:1}}},created:function(){this.init()},methods:{init:function(){this.getUsers()},formatStatus:function(t){return 1===t.status?"开启":"禁用"},handleCurrentChange:function(t){this.pageNum=t,this.getUsers()},disabledArea:function(t){var e=this;if(1===t.status){var s=this;this.$confirm("确定禁用该颜色吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$postJson(e._basePath.ajaxOperateSkuStatus,{id:t.id,status:0,propertyId:1}).then(function(t){t.success&&(e.$message.success("禁用成功！"),s.getUsers())})})}else this.$postJson(this._basePath.ajaxOperateSkuStatus,{id:t.id,status:1,propertyId:1}).then(function(t){t.success&&(e.$message.success("启用成功！"),e.getUsers())})},getUsers:function(){var t=this,e={pageNum:this.pageNum,pageSize:this.pageSize,propertyId:1};this.$postJson(this._basePath.ajaxOperateSkuByPage,e).then(function(e){e.success&&(t.total=e.data.count,t.users=e.data.datas)})},showAddBusiness:function(){this.secShow=!0,this.dialogStatus="create",this.businessForm={name:"",order:"",icon:"#F10C0C",status:1}},getBusinessDetail:function(t){this.secShow=!0,this.dialogStatus="update",this.businessForm=i()({},t)},tradeAreaEdit:function(){var t=this;this.$refs.businessForm.validate(function(e){if(e){var s=i()({},t.businessForm);s.propertyId=1,t.$post(t._basePath.ajaxOperateSkuSave,s).then(function(e){e.success&&(t.$message.success("操作成功"),t.getUsers(),t.secShow=!1)})}})},selsChange:function(t){this.sels=t}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"app-container",attrs:{id:"areaList"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.secShow,expression:"!secShow"}]},[s("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[s("div",{staticClass:"process_btns"},[s("el-button",{attrs:{type:"primary"},on:{click:t.showAddBusiness}},[t._v("新增商品颜色")])],1)]),t._v(" "),s("record-count",{attrs:{total:t.total}}),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.users,"highlight-current-row":""},on:{"selection-change":t.selsChange}},[s("el-table-column",{attrs:{type:"selection",width:"35px"}}),t._v(" "),s("el-table-column",{attrs:{prop:"id",label:"默认颜色ID"}}),t._v(" "),s("el-table-column",{attrs:{prop:"name",label:"颜色名称"}}),t._v(" "),s("el-table-column",{attrs:{prop:"icon",label:"色值"}}),t._v(" "),s("el-table-column",{attrs:{prop:"order",label:"排序号"}}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态",formatter:t.formatStatus}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",width:"320px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(s){t.getBusinessDetail(e.row)}}},[t._v("编辑")]),t._v(" "),1===e.row.status?s("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(s){t.disabledArea(e.row)}}},[t._v("禁用")]):t._e(),t._v(" "),0===e.row.status?s("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(s){t.disabledArea(e.row)}}},[t._v("启用")]):t._e()]}}])})],1),t._v(" "),s("div",{staticClass:"page_toolbar"},[s("el-pagination",{attrs:{layout:"prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页",background:"","page-size":t.pageSize,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),s("Secondary",{attrs:{title:t.textMap[t.dialogStatus]},model:{value:t.secShow,callback:function(e){t.secShow=e},expression:"secShow"}},[s("el-form",{ref:"businessForm",staticClass:"secondary_form",attrs:{model:t.businessForm,"label-width":"120px",rules:t.businessFormRules}},[s("el-form-item",{attrs:{label:"默认颜色名称",prop:"name"}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入颜色名称"},model:{value:t.businessForm.name,callback:function(e){t.$set(t.businessForm,"name",e)},expression:"businessForm.name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"颜色色值",prop:"icon"}},[s("div",{staticClass:"set_start"},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择色值"},model:{value:t.businessForm.icon,callback:function(e){t.$set(t.businessForm,"icon",e)},expression:"businessForm.icon"}}),t._v("\n               "),s("el-color-picker",{model:{value:t.businessForm.icon,callback:function(e){t.$set(t.businessForm,"icon",e)},expression:"businessForm.icon"}})],1)]),t._v(" "),s("el-form-item",{attrs:{label:"颜色序号",prop:"order"}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入颜色序号"},model:{value:t.businessForm.order,callback:function(e){t.$set(t.businessForm,"order",e)},expression:"businessForm.order"}}),t._v("\n             "),s("span",{staticClass:"light_color"},[t._v("(控制颜色排序)")])],1),t._v(" "),s("el-form-item",{attrs:{label:"开启状态"}},[s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},model:{value:t.businessForm.status,callback:function(e){t.$set(t.businessForm,"status",e)},expression:"businessForm.status"}})],1),t._v(" "),s("el-form-item",[s("el-button",{nativeOn:{click:function(e){t.secShow=!1}}},[t._v("取消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.tradeAreaEdit}},[t._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var o=s("VU/8")(n,r,!1,function(t){s("nGJz")},"data-v-4e5be880",null);e.default=o.exports},cMKl:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"\n#areaList .secondary_form .el-cascader[data-v-4e5be880] {\n  width: 100%;\n}\n#areaList .building_title[data-v-4e5be880] {\n  margin-top: 10px;\n  margin-bottom: 20px;\n}\n#areaList .building_title i[data-v-4e5be880] {\n  font-size: 20px;\n  font-weight: bold;\n}\n#areaList .toolbar_process[data-v-4e5be880] {\n  margin-top: 20px;\n}\n",""])},nGJz:function(t,e,s){var a=s("cMKl");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("6ecec096",a,!0)}});